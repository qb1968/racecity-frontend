{"ast":null,"code":"import{API}from'../config';export var signup=function signup(user){// console.log(name, email, password);\nreturn fetch(\"\".concat(API,\"/signup\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var signin=function signin(user){// console.log(name, email, password);\nreturn fetch(\"\".concat(API,\"/signin\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var authenticate=function authenticate(data,next){if(typeof window!=='undefined'){localStorage.setItem('jwt',JSON.stringify(data));next();}};export var signout=function signout(next){if(typeof window!=='undefined'){localStorage.removeItem('jwt');next();return fetch(\"\".concat(API,\"/signout\"),{method:'GET'}).then(function(response){console.log('signout',response);}).catch(function(err){return console.log(err);});}};export var isAuthenticated=function isAuthenticated(){if(typeof window==='undefined'){return false;}if(localStorage.getItem('jwt')){return JSON.parse(localStorage.getItem('jwt'));}else{return false;}};","map":{"version":3,"sources":["D:/Dustin/racecity-frontend/src/auth/index.js"],"names":["API","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signin","authenticate","data","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse"],"mappings":"AAAA,OAASA,GAAT,KAAoB,WAApB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,IAAD,CAAU,CAC9B;AACA,MAAOC,CAAAA,KAAK,WAAIH,GAAJ,YAAkB,CAC5BI,MAAM,CAAE,MADoB,CAE5BC,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAFmB,CAM5BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANsB,CAAlB,CAAL,CAQJQ,IARI,CAQC,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CAVI,EAWJC,KAXI,CAWE,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAbI,CAAP,CAcD,CAhBM,CAkBP,MAAO,IAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACf,IAAD,CAAU,CAC9B;AACA,MAAOC,CAAAA,KAAK,WAAIH,GAAJ,YAAkB,CAC5BI,MAAM,CAAE,MADoB,CAE5BC,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAFmB,CAM5BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANsB,CAAlB,CAAL,CAQJQ,IARI,CAQC,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CAVI,EAWJC,KAXI,CAWE,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAbI,CAAP,CAcD,CAhBM,CAkBP,MAAO,IAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAOC,IAAP,CAAgB,CAC1C,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4Bf,IAAI,CAACC,SAAL,CAAeU,IAAf,CAA5B,EACAC,IAAI,GACL,CACF,CALM,CAOP,MAAO,IAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACJ,IAAD,CAAU,CAC/B,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCC,YAAY,CAACG,UAAb,CAAwB,KAAxB,EACAL,IAAI,GACJ,MAAOjB,CAAAA,KAAK,WAAIH,GAAJ,aAAmB,CAC7BI,MAAM,CAAE,KADqB,CAAnB,CAAL,CAGJM,IAHI,CAGC,SAACC,QAAD,CAAc,CAClBI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBL,QAAvB,EACD,CALI,EAMJE,KANI,CAME,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EANF,CAAP,CAOD,CACF,CAZM,CAcP,MAAO,IAAMY,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACnC,GAAI,MAAOL,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjC,MAAO,MAAP,CACD,CACD,GAAIC,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAJ,CAAiC,CAC/B,MAAOnB,CAAAA,IAAI,CAACoB,KAAL,CAAWN,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAP,CACD,CAFD,IAEO,CACL,MAAO,MAAP,CACD,CACF,CATM","sourcesContent":["import { API } from '../config';\r\n\r\nexport const signup = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`${API}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`${API}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.setItem('jwt', JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('jwt');\r\n    next();\r\n    return fetch(`${API}/signout`, {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => {\r\n        console.log('signout', response);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window === 'undefined') {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem('jwt')) {\r\n    return JSON.parse(localStorage.getItem('jwt'));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
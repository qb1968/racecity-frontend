{"ast":null,"code":"import { API } from '../config';\nimport queryString from 'query-string';\nexport const getProducts = sortBy => {\n  return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=3`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const getCategories = () => {\n  return fetch(`${API}/categories`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const getCategoryById = () => {\n  return fetch(`${API}/category/60e5a122a15ee5492460861b`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n  const data = {\n    limit,\n    skip,\n    filters\n  };\n  return fetch(`${API}/products/by/search`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: {\n      filters: {\n        category: [\"60e5a122a15ee5492460861b\"],\n        price: []\n      }\n    }\n  }).then(response => {\n    return response.json();\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const list = params => {\n  const query = queryString.stringify(params);\n  console.log('query', query);\n  return fetch(`${API}/products/search?${query}`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const read = productId => {\n  return fetch(`${API}/product/${productId}`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const listRelated = productId => {\n  return fetch(`${API}/products/related/${productId}`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const getBraintreeClientToken = (userId, token) => {\n  return fetch(`${API}/braintree/getToken/${userId}`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const processPayment = (userId, token, paymentData) => {\n  return fetch(`${API}/braintree/payment/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(paymentData)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const createOrder = (userId, token, createOrderData) => {\n  return fetch(`${API}/order/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      order: createOrderData\n    })\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};","map":{"version":3,"sources":["D:/Dustin/racecity-frontend/src/core/apiCore.js"],"names":["API","queryString","getProducts","sortBy","fetch","method","then","response","json","catch","err","console","log","getCategories","getCategoryById","getFilteredProducts","skip","limit","filters","data","headers","Accept","body","category","price","list","params","query","stringify","read","productId","listRelated","getBraintreeClientToken","userId","token","Authorization","processPayment","paymentData","JSON","createOrder","createOrderData","order"],"mappings":"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","sourcesContent":["import { API } from '../config';\r\nimport queryString from 'query-string';\r\n\r\nexport const getProducts = (sortBy) => {\r\n  return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=3`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategoryById = () => {\r\n  return fetch(`${API}/category/60e5a122a15ee5492460861b`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n  const data = {\r\n    limit,\r\n    skip,\r\n    filters,\r\n  };\r\n  return fetch(`${API}/products/by/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: {\r\n      filters: { category: [\"60e5a122a15ee5492460861b\"], price: [] },\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const list = (params) => {\r\n  const query = queryString.stringify(params);\r\n  console.log('query', query);\r\n  return fetch(`${API}/products/search?${query}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const read = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelated = (productId) => {\r\n  return fetch(`${API}/products/related/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n  return fetch(`${API}/braintree/getToken/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  return fetch(`${API}/braintree/payment/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentData),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: createOrderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dustin\\\\racecity-frontend\\\\src\\\\core\\\\Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport Layout from './Layout';\nimport { getProducts } from './apiCore';\nimport Card from './Card';\nimport Search from './Search';\nimport 'fontsource-roboto';\nimport Copyright from './Copyright';\nimport Button from '@material-ui/core/Button';\nimport Email_Form from './emailForm';\nimport Checkbox from \"./Checkbox\";\nimport Pic from '../images/sw1 (2).png';\nimport Pic2 from '../images/sw2 (2).png';\nimport Pic3 from '../images/corner3 (2).png';\nimport Pic4 from '../images/corner4 (2).png';\nimport Pic5 from '../images/sm5 (2).png';\nimport Pic6 from '../images/sm6 (2).png';\nimport Pic7 from '../images/back8 (2).png';\nimport Pic8 from '../images/back9.png';\nimport Pic9 from '../images/b10 (2).png';\nimport Pic10 from '../images/b11.png';\nimport Pic11 from '../images/new1 (2).jpg';\nimport Pic12 from '../images/new2 (2).jpg';\nimport Pic13 from '../images/side14 (2).png';\nimport Pic14 from '../images/side15 (2).png';\nimport Pdf from '../images/comics.pdf';\n\nconst Home = () => {\n  const [productsBySell, setProductsBySell] = useState([]);\n  const [productsByArrival, setProductsByArrival] = useState([]);\n  const [error, setError] = useState([]);\n\n  const loadProductsBySell = () => {\n    getProducts('sold').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductsBySell(data);\n      }\n    });\n  };\n\n  const loadProductsByArrival = () => {\n    getProducts('createdAt').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductsByArrival(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProductsByArrival();\n    loadProductsBySell();\n  }, []);\n  const [myFilters, setMyFilters] = useState({\n    filters: {\n      category: [],\n      price: []\n    }\n  });\n  const [categories, setCategories] = useState([]);\n  const [error1, setError1] = useState(false);\n  const [limit, setLimit] = useState(5000);\n  const [skip, setSkip] = useState(0);\n  const [size, setSize] = useState(0);\n  const [filteredResults, setFilteredResults] = useState([]);\n\n  const init = () => {\n    getCategories().then(data => {\n      if (data.setError1) {\n        setError(data.error1);\n      } else {\n        setCategories(data);\n      }\n    });\n  };\n\n  const loadFilteredResults = newFilters => {\n    // console.log(newFilters);\n    getFilteredProducts(skip, limit, newFilters).then(data => {\n      if (data.setError1) {\n        setError(data.error1);\n      } else {\n        setFilteredResults(data.data);\n        setSize(data.size);\n        setSkip(0);\n      }\n    });\n  };\n\n  const loadMore = () => {\n    let toSkip = skip + limit; // console.log(newFilters);\n\n    getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\n      if (data.error1) {\n        setError(data.error);\n      } else {\n        setFilteredResults([...filteredResults, ...data.data]);\n        setSize(data.size);\n        setSkip(toSkip);\n      }\n    });\n  };\n\n  const useStyles = makeStyles(theme => ({\n    btn: {\n      background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n      borderRadius: 3,\n      border: 0,\n      color: \"white\",\n      height: 48,\n      padding: \"0 20px\",\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\"\n    }\n  }));\n  const classes = useStyles();\n\n  const loadMoreButton = () => {\n    return size > 0 && size >= limit &&\n    /*#__PURE__*/\n    // <button onClick={loadMore} className='btn btn-warning mb-5'>\n    //   Load more\n    // </button>\n    React.createElement(Button, {\n      onClick: loadMore,\n      variant: \"contained\",\n      className: classes.btn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 10\n      }\n    }, \"Load more\");\n  };\n\n  useEffect(() => {\n    init();\n    loadFilteredResults(skip, limit, myFilters.filters);\n  }, []);\n\n  const handleFilters = (filters, filterBy) => {\n    // console.log(\"SHOP\", filters, filterBy);\n    const newFilters = { ...myFilters\n    };\n    newFilters.filters[filterBy] = filters;\n\n    if (filterBy === \"price\") {\n      let priceValues = handlePrice(filters);\n      newFilters.filters[filterBy] = priceValues;\n    }\n\n    loadFilteredResults(myFilters.filters);\n    setMyFilters(newFilters);\n  };\n\n  const handlePrice = value => {\n    const data = prices;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value)) {\n        array = data[key].array;\n      }\n    }\n\n    return array;\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: \"Home page\",\n    description: \"Main\",\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    categories: categories,\n    handleFilters: filters => handleFilters(filters, \"category\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"New Arrivals\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, productsByArrival.map((product, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"col-xl-4 col-lg-6 col-md-6 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"press\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, \"Pressing Services\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, \"Pressing removes Bends, bunched spine, dents, digital code squares, dirt, production lines, non color breaking spine ticks, staple push & improper pressing mistakes. Cleaning services Dry cleaning removes dirt, soil and putty from comics. WE SUBMIT TO CGC with Forms.Check out this before and after samples below.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pics\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pics2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic11,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic13,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"pic\",\n    src: Pic14,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }\n  }, \"Interested download the form to get started\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: Pdf,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, \"Download Form\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Email_Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, \"RaceCity Comics \"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }\n  }, \"PO Box 784\"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, \"Harrisburg NC 28075\")), /*#__PURE__*/React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Home;","map":{"version":3,"sources":["D:/Dustin/racecity-frontend/src/core/Home.js"],"names":["React","useState","useEffect","Layout","getProducts","Card","Search","Copyright","Button","Email_Form","Checkbox","Pic","Pic2","Pic3","Pic4","Pic5","Pic6","Pic7","Pic8","Pic9","Pic10","Pic11","Pic12","Pic13","Pic14","Pdf","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","error","setError","loadProductsBySell","then","data","loadProductsByArrival","myFilters","setMyFilters","filters","category","price","categories","setCategories","error1","setError1","limit","setLimit","skip","setSkip","size","setSize","filteredResults","setFilteredResults","init","getCategories","loadFilteredResults","newFilters","getFilteredProducts","loadMore","toSkip","useStyles","makeStyles","theme","btn","background","borderRadius","border","color","height","padding","boxShadow","classes","loadMoreButton","handleFilters","filterBy","priceValues","handlePrice","value","prices","array","key","_id","parseInt","map","product","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { getProducts } from './apiCore';\r\nimport Card from './Card';\r\nimport Search from './Search';\r\nimport 'fontsource-roboto';\r\nimport Copyright from './Copyright';\r\nimport Button from '@material-ui/core/Button';\r\nimport Email_Form from './emailForm';\r\nimport Checkbox from \"./Checkbox\";\r\nimport Pic from '../images/sw1 (2).png';\r\nimport Pic2 from '../images/sw2 (2).png';\r\nimport Pic3 from '../images/corner3 (2).png';\r\nimport Pic4 from '../images/corner4 (2).png';\r\nimport Pic5 from '../images/sm5 (2).png';\r\nimport Pic6 from '../images/sm6 (2).png';\r\nimport Pic7 from '../images/back8 (2).png';\r\nimport Pic8 from '../images/back9.png';\r\nimport Pic9 from '../images/b10 (2).png';\r\nimport Pic10 from '../images/b11.png';\r\nimport Pic11 from '../images/new1 (2).jpg';\r\nimport Pic12 from '../images/new2 (2).jpg';\r\nimport Pic13 from '../images/side14 (2).png';\r\nimport Pic14 from '../images/side15 (2).png';\r\nimport Pdf from '../images/comics.pdf'\r\n\r\nconst Home = () => {\r\n  const [productsBySell, setProductsBySell] = useState([]);\r\n  const [productsByArrival, setProductsByArrival] = useState([]);\r\n  const [error, setError] = useState([]);\r\n\r\n  const loadProductsBySell = () => {\r\n    getProducts('sold').then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProductsBySell(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadProductsByArrival = () => {\r\n    getProducts('createdAt').then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProductsByArrival(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProductsByArrival();\r\n    loadProductsBySell();\r\n  }, []);\r\n\r\n   const [myFilters, setMyFilters] = useState({\r\n     filters: { category: [], price: [] },\r\n   });\r\n\r\n   const [categories, setCategories] = useState([]);\r\n   const [error1, setError1] = useState(false);\r\n   const [limit, setLimit] = useState(5000);\r\n   const [skip, setSkip] = useState(0);\r\n   const [size, setSize] = useState(0);\r\n   const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n   const init = () => {\r\n     getCategories().then((data) => {\r\n       if (data.setError1) {\r\n         setError(data.error1);\r\n       } else {\r\n         setCategories(data);\r\n       }\r\n     });\r\n   };\r\n\r\n   const loadFilteredResults = (newFilters) => {\r\n     // console.log(newFilters);\r\n     getFilteredProducts(skip, limit, newFilters).then((data) => {\r\n       if (data.setError1) {\r\n         setError(data.error1);\r\n       } else {\r\n         setFilteredResults(data.data);\r\n         setSize(data.size);\r\n         setSkip(0);\r\n       }\r\n     });\r\n   };\r\n\r\n   const loadMore = () => {\r\n     let toSkip = skip + limit;\r\n     // console.log(newFilters);\r\n     getFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\r\n       if (data.error1) {\r\n         setError(data.error);\r\n       } else {\r\n         setFilteredResults([...filteredResults, ...data.data]);\r\n         setSize(data.size);\r\n         setSkip(toSkip);\r\n       }\r\n     });\r\n   };\r\n\r\n   const useStyles = makeStyles((theme) => ({\r\n     btn: {\r\n       background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\r\n       borderRadius: 3,\r\n       border: 0,\r\n       color: \"white\",\r\n       height: 48,\r\n       padding: \"0 20px\",\r\n       boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\r\n     },\r\n   }));\r\n\r\n   const classes = useStyles();\r\n\r\n   const loadMoreButton = () => {\r\n     return (\r\n       size > 0 &&\r\n       size >= limit && (\r\n         // <button onClick={loadMore} className='btn btn-warning mb-5'>\r\n         //   Load more\r\n         // </button>\r\n         <Button onClick={loadMore} variant=\"contained\" className={classes.btn}>\r\n           Load more\r\n         </Button>\r\n       )\r\n     );\r\n   };\r\n\r\n   useEffect(() => {\r\n     init();\r\n     loadFilteredResults(skip, limit, myFilters.filters);\r\n   }, []);\r\n\r\n   const handleFilters = (filters, filterBy) => {\r\n     // console.log(\"SHOP\", filters, filterBy);\r\n     const newFilters = { ...myFilters };\r\n     newFilters.filters[filterBy] = filters;\r\n\r\n     if (filterBy === \"price\") {\r\n       let priceValues = handlePrice(filters);\r\n       newFilters.filters[filterBy] = priceValues;\r\n     }\r\n     loadFilteredResults(myFilters.filters);\r\n     setMyFilters(newFilters);\r\n   };\r\n\r\n   const handlePrice = (value) => {\r\n     const data = prices;\r\n     let array = [];\r\n\r\n     for (let key in data) {\r\n       if (data[key]._id === parseInt(value)) {\r\n         array = data[key].array;\r\n       }\r\n     }\r\n     return array;\r\n   };\r\n\r\n\r\n  return (\r\n    <Layout title=\"Home page\" description=\"Main\" className=\"container-fluid\">\r\n      <Checkbox\r\n        categories={categories}\r\n        handleFilters={(filters) => handleFilters(filters, \"category\")}\r\n      />\r\n      <Search />\r\n      <div className=\"row\">\r\n        <div className=\"col-md-1\"></div>\r\n        <div className=\"col-md-10\">\r\n          <h2 className=\"mb-2\">New Arrivals</h2>\r\n          <div className=\"row\">\r\n            {productsByArrival.map((product, i) => (\r\n              <div key={i} className=\"col-xl-4 col-lg-6 col-md-6 col-sm-12\">\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* <h2 className='mb-2 mt-4'>Best Sellers</h2>\r\n          <div className='row'>\r\n            {productsBySell.map((product, i) => (\r\n              <div key={i} className='col-xl-4 col-lg-6 col-md-6 col-sm-12'>\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div> */}\r\n        </div>\r\n        <div className=\"col-md-1\"></div>\r\n      </div>\r\n      <div className=\"press\">\r\n        <h1>Pressing Services</h1>\r\n        <p>\r\n          Pressing removes Bends, bunched spine, dents, digital code squares,\r\n          dirt, production lines, non color breaking spine ticks, staple push &\r\n          improper pressing mistakes. Cleaning services Dry cleaning removes\r\n          dirt, soil and putty from comics. WE SUBMIT TO CGC with Forms.Check\r\n          out this before and after samples below.\r\n        </p>\r\n      </div>\r\n      <div className=\"pics\">\r\n        <img className=\"pic\" src={Pic} />\r\n        <img className=\"pic\" src={Pic2} />\r\n        <img className=\"pic\" src={Pic3} />\r\n        <img className=\"pic\" src={Pic4} />\r\n        <img className=\"pic\" src={Pic5} />\r\n        <img className=\"pic\" src={Pic6} />\r\n        <img className=\"pic\" src={Pic7} />\r\n        <img className=\"pic\" src={Pic8} />\r\n      </div>\r\n      <div className=\"pics2\">\r\n        <img className=\"pic\" src={Pic9} />\r\n        <img className=\"pic\" src={Pic10} />\r\n        <img className=\"pic\" src={Pic11} />\r\n        <img className=\"pic\" src={Pic12} />\r\n        <img className=\"pic\" src={Pic13} />\r\n        <img className=\"pic\" src={Pic14} />\r\n      </div>\r\n      <div className=\"button\">\r\n        <h2>Interested download the form to get started</h2>\r\n        <a href={Pdf} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          <Button variant=\"contained\">Download Form</Button>\r\n        </a>\r\n      </div>\r\n\r\n      <div className=\"contact\">\r\n        <Email_Form />\r\n      </div>\r\n\r\n      <div className=\"address\">\r\n        <h4>RaceCity Comics </h4>\r\n        <h4>PO Box 784</h4>\r\n        <h4>Harrisburg NC 28075</h4>\r\n      </div>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}
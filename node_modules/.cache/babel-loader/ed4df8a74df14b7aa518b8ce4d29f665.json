{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dustin\\\\racecity-frontend\\\\src\\\\core\\\\Card.js\";\nimport React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\nimport ShowImage2 from \"./ShowImage2\";\nimport moment from \"moment\";\nimport Button from \"@material-ui/core/Button\";\nimport CardM from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Link from \"@material-ui/core/Link\";\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    marginRight: theme.spacing(2)\n  },\n  heroContent: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(8, 0, 6)\n  },\n  heroButtons: {\n    marginTop: theme.spacing(4)\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4)\n  },\n  card: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  cardMedia: {\n    paddingTop: \"56.25%\" // 16:9\n\n  },\n  cardContent: {\n    flexGrow: 1\n  },\n  productDescription: {\n    height: \"55px\"\n  },\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(6)\n  }\n}));\n\nconst Card = ({\n  product,\n  showViewProductButton = true,\n  showAddToCartButton = true,\n  cartUpdate = false,\n  showRemoveProductButton = false,\n  setRun = f => f,\n  // default value of function\n  run = undefined // default value of undefined\n\n}) => {\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState(product.count);\n\n  const showViewButton = showViewProductButton => {\n    return showViewProductButton && /*#__PURE__*/React.createElement(Link, {\n      href: `/product/${product._id}`,\n      className: \"mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, \"View Product\"));\n  };\n\n  const addToCart = () => {\n    // console.log('added');\n    addItem(product, setRedirect(true));\n  };\n\n  const shouldRedirect = redirect => {\n    if (redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/cart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  const showAddToCartBtn = showAddToCartButton => {\n    return showAddToCartButton && /*#__PURE__*/React.createElement(Button, {\n      onClick: addToCart,\n      variant: \"outlined\",\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, \"Add to cart\");\n  };\n\n  const showStock = quantity => {\n    return quantity > 0 ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, \"In Stock \") : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }, \"Out of Stock \");\n  };\n\n  const handleChange = productId => event => {\n    setRun(!run); // run useEffect in parent Cart\n\n    setCount(event.target.value < 1 ? 1 : event.target.value);\n\n    if (event.target.value >= 1) {\n      updateItem(productId, event.target.value);\n    }\n  };\n\n  const showCartUpdateOptions = cartUpdate => {\n    return cartUpdate && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, \"Adjust Quantity\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      value: count,\n      onChange: handleChange(product._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    })));\n  };\n\n  const showRemoveButton = showRemoveProductButton => {\n    return showRemoveProductButton && /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        removeItem(product._id);\n        setRun(!run); // run useEffect in parent Cart\n      },\n      variant: \"contained\",\n      color: \"secondary\",\n      className: classes.button,\n      startIcon: /*#__PURE__*/React.createElement(DeleteIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 22\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, \"Remove Product\");\n  };\n\n  const classes = useStyles();\n  return (\n    /*#__PURE__*/\n    // <div className='card'>\n    //   <div className='card-header name'>{product.name}</div>\n    //   <div className='card-body'>\n    //     {shouldRedirect(redirect)}\n    //     <ShowImage item={product} url='product' />\n    //     <p className='lead mt-2'>{product.description.substring(0, 100)}</p>\n    //     <p className='black-10'>${product.price}</p>\n    //     <p className='black-9'>\n    //       Category: {product.category && product.category.name}\n    //     </p>\n    //     <p className='black-8'>\n    //       Added on {moment(product.createdAt).fromNow()}\n    //     </p>\n    //     {showStock(product.quantity)}\n    //     <br></br>\n    //     {showViewButton(showViewProductButton)}\n    //     {showAddToCartBtn(showAddToCartButton)}\n    //     {showRemoveButton(showRemoveProductButton)}\n    //     {showCartUpdateOptions(cartUpdate)}\n    //   </div>\n    // </div>\n    React.createElement(Container, {\n      className: classes.cardGrid,\n      maxWidth: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 12,\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardM, {\n      className: classes.card,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, shouldRedirect(redirect), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"photos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, \"Click images to enlarge\"), /*#__PURE__*/React.createElement(ShowImage, {\n      item: product,\n      url: \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ShowImage2, {\n      item: product,\n      url: \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(CardContent, {\n      className: classes.cardContent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      gutterBottom: true,\n      variant: \"h5\",\n      component: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }, product.name), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.productDescription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, product.description.substring(0, 100)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"black-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }\n    }, \"Price: $\", product.price), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"black-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    }, \"Category: \", product.category && product.category.name, \" \"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      className: \"black-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    }, \"Added on \", moment(product.createdAt).fromNow(), \" \"), showStock(product.quantity), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, showViewButton(showViewProductButton), showAddToCartBtn(showAddToCartButton), showRemoveButton(showRemoveProductButton)), showCartUpdateOptions(cartUpdate))))))\n  );\n};\n\nexport default Card;","map":{"version":3,"sources":["D:/Dustin/racecity-frontend/src/core/Card.js"],"names":["React","useState","Redirect","ShowImage","ShowImage2","moment","Button","CardM","CardContent","CssBaseline","DeleteIcon","Grid","Typography","makeStyles","Container","Link","addItem","updateItem","removeItem","useStyles","theme","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","cardMedia","cardContent","flexGrow","productDescription","footer","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","showViewButton","_id","addToCart","shouldRedirect","showAddToCartBtn","showStock","quantity","handleChange","productId","event","target","value","showCartUpdateOptions","showRemoveButton","classes","button","name","description","substring","price","category","createdAt","fromNow"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ShowImage from \"./ShowImage\";\r\nimport ShowImage2 from \"./ShowImage2\";\r\nimport moment from \"moment\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport CardM from \"@material-ui/core/Card\";\r\n\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Link from \"@material-ui/core/Link\";\r\n\r\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  productDescription: {\r\n    height: \"55px\",\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n  },\r\n}));\r\n\r\nconst Card = ({\r\n  product,\r\n  showViewProductButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveProductButton = false,\r\n  setRun = (f) => f, // default value of function\r\n  run = undefined, // default value of undefined\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const showViewButton = (showViewProductButton) => {\r\n    return (\r\n      showViewProductButton && (\r\n        <Link href={`/product/${product._id}`} className=\"mr-2\">\r\n          <Button variant=\"contained\" color=\"primary\">\r\n            View Product\r\n          </Button>\r\n        </Link>\r\n      )\r\n    );\r\n  };\r\n\r\n  const addToCart = () => {\r\n    // console.log('added');\r\n    addItem(product, setRedirect(true));\r\n  };\r\n\r\n  const shouldRedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCartBtn = (showAddToCartButton) => {\r\n    return (\r\n      showAddToCartButton && (\r\n        <Button onClick={addToCart} variant=\"outlined\" color=\"secondary\">\r\n          Add to cart\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showStock = (quantity) => {\r\n    return quantity > 0 ? (\r\n      <span className=\"badge badge-primary badge-pill\">In Stock </span>\r\n    ) : (\r\n      <span className=\"badge badge-primary badge-pill\">Out of Stock </span>\r\n    );\r\n  };\r\n\r\n  const handleChange = (productId) => (event) => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = (cartUpdate) => {\r\n    return (\r\n      cartUpdate && (\r\n        <div className=\"mt-2\">\r\n          <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Adjust Quantity</span>\r\n            </div>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              value={count}\r\n              onChange={handleChange(product._id)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveButton = (showRemoveProductButton) => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <Button\r\n          onClick={() => {\r\n            removeItem(product._id);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          className={classes.button}\r\n          startIcon={<DeleteIcon />}\r\n        >\r\n          Remove Product\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    // <div className='card'>\r\n    //   <div className='card-header name'>{product.name}</div>\r\n    //   <div className='card-body'>\r\n    //     {shouldRedirect(redirect)}\r\n    //     <ShowImage item={product} url='product' />\r\n    //     <p className='lead mt-2'>{product.description.substring(0, 100)}</p>\r\n    //     <p className='black-10'>${product.price}</p>\r\n    //     <p className='black-9'>\r\n    //       Category: {product.category && product.category.name}\r\n    //     </p>\r\n    //     <p className='black-8'>\r\n    //       Added on {moment(product.createdAt).fromNow()}\r\n    //     </p>\r\n\r\n    //     {showStock(product.quantity)}\r\n    //     <br></br>\r\n\r\n    //     {showViewButton(showViewProductButton)}\r\n\r\n    //     {showAddToCartBtn(showAddToCartButton)}\r\n\r\n    //     {showRemoveButton(showRemoveProductButton)}\r\n\r\n    //     {showCartUpdateOptions(cartUpdate)}\r\n    //   </div>\r\n    // </div>\r\n\r\n    <Container className={classes.cardGrid} maxWidth=\"md\">\r\n      <CssBaseline />\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12} sm={12} md={12}>\r\n          <CardM className={classes.card}>\r\n            {shouldRedirect(redirect)}\r\n            <div className=\"photos\">\r\n              <h4>Click images to enlarge</h4>\r\n\r\n              <ShowImage item={product} url=\"product\" />\r\n              <ShowImage2 item={product} url=\"product\" />\r\n            </div>\r\n            <CardContent className={classes.cardContent}>\r\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                {product.name}\r\n              </Typography>\r\n              <Typography className={classes.productDescription}>\r\n                {product.description.substring(0, 100)}\r\n              </Typography>\r\n              <p className=\"black-10\">Price: ${product.price}</p>\r\n              <p className=\"black-9\">\r\n                Category: {product.category && product.category.name}{\" \"}\r\n              </p>{\" \"}\r\n              <p className=\"black-8\">\r\n                Added on {moment(product.createdAt).fromNow()}{\" \"}\r\n              </p>\r\n              {showStock(product.quantity)}\r\n              <br></br>\r\n              <span>\r\n                {showViewButton(showViewProductButton)}\r\n                {showAddToCartBtn(showAddToCartButton)}\r\n                {showRemoveButton(showRemoveProductButton)}\r\n              </span>\r\n              {showCartUpdateOptions(cartUpdate)}\r\n            </CardContent>\r\n          </CardM>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}
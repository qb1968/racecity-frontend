{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dustin\\\\racecity-frontend\\\\src\\\\core\\\\sample.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport Layout from \"./Layout\";\nimport Search from \"./Search\";\nimport Card from \"./Card\";\nimport { getCategories, getFilteredProducts, getCategoryById } from \"./apiCore\";\nimport Checkbox from \"./Checkbox\";\nimport { prices } from \"./fixedPrices\";\n\nconst Sample = () => {\n  const [myFilters, setMyFilters] = useState({\n    filters: {\n      category: []\n    }\n  });\n  const [category, setCategory] = useState([]);\n  const [filteredResults, setFilteredResults] = useState([]);\n  const [error, setError] = useState(false);\n  const [limit, setLimit] = useState(5000);\n  const [skip, setSkip] = useState(0);\n  const [size, setSize] = useState(0);\n  const [checked, setChecked] = useState(true);\n\n  const init = () => {\n    getCategoryById(\"60e5a122a15ee5492460861b\").then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setCategory(data);\n        loadFilteredResults(skip, limit, myFilters.filters);\n      }\n\n      console.log(data);\n    });\n  };\n\n  const loadFilteredResults = newFilters => {\n    console.log(newFilters);\n    getFilteredProducts(skip, limit, newFilters).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults(data.data);\n        setSize(data.size);\n        setSkip(0);\n      }\n\n      console.log(data);\n    });\n  }; //  useEffect(() => {\n  //    init();\n  //      console.log(myFilters.filters)\n  //  }, []);\n\n\n  const handleFilters = (filters, filterBy) => {\n    console.log(\"SHOP\", filters, filterBy);\n    const newFilters = { ...myFilters\n    };\n    newFilters.filters[filterBy] = filters;\n\n    if (filterBy === \"price\") {\n      let priceValues = handlePrice(filters);\n      newFilters.filters[filterBy] = priceValues;\n    }\n\n    loadFilteredResults(myFilters.filters);\n    setMyFilters(newFilters);\n  };\n\n  const handlePrice = value => {\n    const data = prices;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value)) {\n        array = data[key].array;\n      }\n    }\n\n    return array;\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Comics\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, handleFilters.filters, filteredResults.map((product, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"col-xl-4 col-lg-6 col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default Sample;","map":{"version":3,"sources":["D:/Dustin/racecity-frontend/src/core/sample.js"],"names":["React","useState","useEffect","Layout","Search","Card","getCategories","getFilteredProducts","getCategoryById","Checkbox","prices","Sample","myFilters","setMyFilters","filters","category","setCategory","filteredResults","setFilteredResults","error","setError","limit","setLimit","skip","setSkip","size","setSize","checked","setChecked","init","then","data","loadFilteredResults","console","log","newFilters","handleFilters","filterBy","priceValues","handlePrice","value","array","key","_id","parseInt","map","product","i"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState,useEffect } from 'react';\r\nimport Layout from \"./Layout\";\r\nimport Search from \"./Search\";\r\nimport Card from \"./Card\";\r\nimport { getCategories, getFilteredProducts,getCategoryById } from \"./apiCore\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport { prices } from \"./fixedPrices\";\r\n\r\nconst Sample = () => {\r\nconst [myFilters, setMyFilters] = useState({\r\n  filters: { category: [] },\r\n});\r\n    \r\n  const [category, setCategory] = useState([]);\r\n    const [filteredResults, setFilteredResults] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const [limit, setLimit] = useState(5000);\r\n    const [skip, setSkip] = useState(0);\r\n    const [size, setSize] = useState(0);\r\n    const [checked, setChecked] = useState(true);\r\n\r\n  const init = () => {\r\n    getCategoryById(\"60e5a122a15ee5492460861b\").then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n          setCategory(data);\r\n          loadFilteredResults(skip, limit, myFilters.filters);\r\n      }\r\n      console.log(data);\r\n    });\r\n    };\r\n\r\n     const loadFilteredResults = (newFilters) => {\r\n       console.log(newFilters);\r\n       getFilteredProducts(skip, limit, newFilters).then((data) => {\r\n         if (data.error) {\r\n           setError(data.error);\r\n         } else {\r\n           setFilteredResults(data.data);\r\n           setSize(data.size);\r\n           setSkip(0);\r\n         }\r\n         console.log(data);\r\n       });\r\n    };\r\n    \r\n    //  useEffect(() => {\r\n    //    init();\r\n         \r\n         \r\n    //      console.log(myFilters.filters)\r\n    //  }, []);\r\n    \r\n    \r\n     const handleFilters = (filters, filterBy) => {\r\n       console.log(\"SHOP\", filters, filterBy);\r\n       const newFilters = { ...myFilters };\r\n       newFilters.filters[filterBy] = filters;\r\n\r\n       if (filterBy === \"price\") {\r\n         let priceValues = handlePrice(filters);\r\n         newFilters.filters[filterBy] = priceValues;\r\n       }\r\n       loadFilteredResults(myFilters.filters);\r\n       setMyFilters(newFilters);\r\n     };\r\n\r\n     const handlePrice = (value) => {\r\n       const data = prices;\r\n       let array = [];\r\n\r\n       for (let key in data) {\r\n         if (data[key]._id === parseInt(value)) {\r\n           array = data[key].array;\r\n         }\r\n       }\r\n       return array;\r\n     };\r\n    \r\n   \r\n    \r\n    return (\r\n      <Layout>\r\n        <Search />\r\n        <div className=\"row\">\r\n          <div className=\"col-md-3\">\r\n           \r\n          </div>\r\n          <div className=\"col-md-9\">\r\n            <h2 className=\"mb-2\">Comics</h2>\r\n                    <div className=\"row\">\r\n                        {handleFilters.filters}\r\n              {filteredResults.map((product, i) => (\r\n                <div key={i} className=\"col-xl-4 col-lg-6 col-md-12 col-sm-12\">\r\n                  <Card product={product} />\r\n                </div>\r\n              ))}\r\n                        \r\n            </div>\r\n            <hr />\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n}\r\n\r\nexport default Sample;\r\n"]},"metadata":{},"sourceType":"module"}
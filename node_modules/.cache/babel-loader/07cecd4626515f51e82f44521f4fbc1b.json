{"ast":null,"code":"import _defineProperty from\"D:\\\\Dustin\\\\racecity-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\Dustin\\\\racecity-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\Dustin\\\\racecity-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';// import Link from '@material-ui/core/Link';\nimport Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import Copyright from'../core/Copyright';import Layout from'../core/Layout';import{signup}from'../auth';var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});export default function Signup(){var _useState=useState({name:'',email:'',password:'',error:'',success:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var name=values.name,email=values.email,password=values.password,success=values.success,error=values.error;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({error:false},name,event.target.value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();// so that browser does not reload\nsetValues(_objectSpread(_objectSpread({},values),{},{error:false}));signup({name:name,email:email,password:password}).then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error,success:false}));}else{setValues(_objectSpread(_objectSpread({},values),{},{name:'',email:'',password:'',error:'',success:true}));}});// sending js object\n};var showError=function showError(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?'':'none'}},error);};var showSuccess=function showSuccess(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info\",style:{display:success?'':'none'}},\"New account is created. Please \",/*#__PURE__*/React.createElement(Link,{to:\"/signin\"},\"Signin\"),\".\");};var classes=useStyles();var signUpForm=function signUpForm(){var _React$createElement;return/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},showSuccess(),showError(),/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Avatar,{className:classes.avatar},/*#__PURE__*/React.createElement(LockOutlinedIcon,null)),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Sign up\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,noValidate:true},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,{autoComplete:\"off\",onChange:handleChange('name'),type:\"text\",name:\"name\",value:name,variant:\"outlined\",required:true,fullWidth:true,id:\"name\",label:\"Full Name\",autoFocus:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",onChange:handleChange('email'),type:\"email\",value:email,autoComplete:\"off\"})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,(_React$createElement={variant:\"outlined\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",onChange:handleChange('password')},_defineProperty(_React$createElement,\"type\",\"password\"),_defineProperty(_React$createElement,\"value\",password),_defineProperty(_React$createElement,\"autoComplete\",\"current-password\"),_React$createElement)))),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:clickSubmit},\"Sign Up\"),/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"flex-end\"},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Link,{to:\"/signin\",variant:\"body2\"},\"Already have an account? Sign in\"))))));};return/*#__PURE__*/React.createElement(Layout,{title:\"Signup page\",description:\"Signup to MERN E-commerce App\",className:\"container col-md-8 offset-md-2\"},signUpForm(),/*#__PURE__*/React.createElement(Copyright,null));}","map":{"version":3,"sources":["D:/Dustin/racecity-frontend/src/user/Signup.js"],"names":["React","useState","Link","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","Copyright","Layout","signup","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Signup","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","then","data","showError","showSuccess","classes","signUpForm"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n// import Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Copyright from '../core/Copyright';\r\n\r\nimport Layout from '../core/Layout';\r\nimport { signup } from '../auth';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signup() {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, success, error } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault(); // so that browser does not reload\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, success: false });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: '',\r\n          email: '',\r\n          password: '',\r\n          error: '',\r\n          success: true,\r\n        });\r\n      }\r\n    }); // sending js object\r\n  };\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: success ? '' : 'none' }}\r\n    >\r\n      New account is created. Please <Link to='/signin'>Signin</Link>.\r\n    </div>\r\n  );\r\n\r\n  const classes = useStyles();\r\n\r\n  const signUpForm = () => (\r\n    <Container component='main' maxWidth='xs'>\r\n      {showSuccess()}\r\n      {showError()}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                autoComplete='off'\r\n                onChange={handleChange('name')}\r\n                type='text'\r\n                name='name'\r\n                value={name}\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                id='name'\r\n                label='Full Name'\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                id='email'\r\n                label='Email Address'\r\n                name='email'\r\n                onChange={handleChange('email')}\r\n                type='email'\r\n                value={email}\r\n                autoComplete='off'\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                name='password'\r\n                label='Password'\r\n                type='password'\r\n                id='password'\r\n                onChange={handleChange('password')}\r\n                type='password'\r\n                value={password}\r\n                autoComplete='current-password'\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n            className={classes.submit}\r\n            onClick={clickSubmit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify='flex-end'>\r\n            <Grid item>\r\n              <Link to='/signin' variant='body2'>\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Signup page'\r\n      description='Signup to MERN E-commerce App'\r\n      className='container col-md-8 offset-md-2'\r\n    >\r\n      {signUpForm()}\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
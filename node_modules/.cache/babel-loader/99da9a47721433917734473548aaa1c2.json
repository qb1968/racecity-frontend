{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dustin\\\\racecity-frontend\\\\src\\\\core\\\\Search.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { getFilteredProducts } from './apiCore';\nimport Card from './Card';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst Search = () => {\n  const [allData, setAllData] = useState([]);\n  const [filteredData, setFilteredData] = useState([allData]);\n\n  const handleSearch = event => {\n    let value = event.target.value.toLowerCase();\n    let result = [];\n    console.log(value);\n    result = allData.filter(data => {\n      return data.name.search(value) != -1;\n    });\n    setFilteredData(result);\n  };\n\n  useEffect(() => {\n    getFilteredProducts().then(response => {\n      console.log(response.data);\n      setAllData(response.data);\n      setFilteredData(response.data);\n    }).catch(error => {\n      console.log(\"Error getting fake data: \" + error);\n    });\n  }, []); // import { makeStyles } from '@material-ui/core/styles';\n  // import InputLabel from '@material-ui/core/InputLabel';\n  // import MenuItem from '@material-ui/core/MenuItem';\n  // import FormHelperText from '@material-ui/core/FormHelperText';\n  // import FormControl from '@material-ui/core/FormControl';\n  // import Select from '@material-ui/core/Select';\n  // import TextField from '@material-ui/core/TextField';\n  // import Button from '@material-ui/core/Button';\n  // import SearchIcon from '@material-ui/icons/Search';\n  // import { getCategories, list } from './apiCore';\n  // import Card from './Card';\n  // const useStyles = makeStyles((theme) => ({\n  //   formControl: {\n  //     margin: theme.spacing(1),\n  //     minWidth: 120,\n  //   },\n  //   selectEmpty: {\n  //     marginTop: theme.spacing(2),\n  //   },\n  //   tField: {\n  //     width: 800,\n  //     marginTop: 2,\n  //   },\n  //   root: {\n  //     '& > *': {\n  //       margin: theme.spacing(2),\n  //     },\n  //   },\n  // }));\n  // const Search = () => {\n  //   const [data, setData] = useState({\n  //     categories: [],\n  //     category: '',\n  //     search: '',\n  //     results: [],\n  //     searched: false,\n  //   });\n  //   const { categories, category, search, results, searched } = data;\n  //   const loadCategories = () => {\n  //     getCategories().then((data) => {\n  //       if (data.error) {\n  //         console.log(data.error);\n  //       } else {\n  //         setData({ ...data, categories: data });\n  //       }\n  //     });\n  //   };\n  //   useEffect(() => {\n  //     loadCategories();\n  //   }, []);\n  //   const searchData = () => {\n  //     // console.log(search, category);\n  //     if (search) {\n  //       list({ search: search || undefined, category: category }).then(\n  //         (response) => {\n  //           if (response.error) {\n  //             console.log(response.error);\n  //           } else {\n  //             setData({ ...data, results: response, searched: true });\n  //           }\n  //         }\n  //       );\n  //     }\n  //   };\n  //   const searchSubmit = (e) => {\n  //     e.preventDefault();\n  //     searchData();\n  //   };\n  //   const handleChange = (name) => (event) => {\n  //     setData({ ...data, [name]: event.target.value, searched: false });\n  //   };\n\n  const searchedProducts = (result = []) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-4 mb-4 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, result.map((product, i) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      key: i,\n      product: product,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  const classes = useStyles();\n\n  const searchForm = () => /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group input-group-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"All\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, \"All\"))), /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleSearch(\"search\"),\n    id: \"outlined-basic\",\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SearchIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }), \"Search by name\"),\n    variant: \"outlined\",\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-3 mt-2\",\n    style: {\n      border: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    ml: 2,\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, \"Search\")))));\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, searchForm()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, searchedProducts(results)));\n};\n\nexport default Search;","map":{"version":3,"sources":["D:/Dustin/racecity-frontend/src/core/Search.js"],"names":["React","useState","useEffect","axios","getFilteredProducts","Card","InputLabel","MenuItem","FormHelperText","FormControl","Select","TextField","Button","SearchIcon","Search","allData","setAllData","filteredData","setFilteredData","handleSearch","event","value","target","toLowerCase","result","console","log","filter","data","name","search","then","response","catch","error","searchedProducts","map","product","i","classes","useStyles","searchForm","border","results"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { getFilteredProducts } from './apiCore'\r\nimport Card from './Card'\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n   import MenuItem from '@material-ui/core/MenuItem';\r\n   import FormHelperText from '@material-ui/core/FormHelperText';\r\n   import FormControl from '@material-ui/core/FormControl';\r\n   import Select from '@material-ui/core/Select';\r\n  import TextField from '@material-ui/core/TextField';\r\n   import Button from '@material-ui/core/Button';\r\n   import SearchIcon from '@material-ui/icons/Search';\r\n\r\n\r\n\r\nconst Search = () => {\r\n  const [allData, setAllData] = useState([]);\r\n  const [filteredData, setFilteredData] = useState([allData]);\r\n\r\n  const handleSearch = (event) => {\r\n    let value = event.target.value.toLowerCase();\r\n    let result = [];\r\n    console.log(value);\r\n    result = allData.filter((data) => {\r\n      return data.name.search(value) != -1;\r\n    });\r\n    setFilteredData(result);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getFilteredProducts()\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setAllData(response.data);\r\n        setFilteredData(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting fake data: \" + error);\r\n      });\r\n  }, []);\r\n\r\n  // import { makeStyles } from '@material-ui/core/styles';\r\n  // import InputLabel from '@material-ui/core/InputLabel';\r\n  // import MenuItem from '@material-ui/core/MenuItem';\r\n  // import FormHelperText from '@material-ui/core/FormHelperText';\r\n  // import FormControl from '@material-ui/core/FormControl';\r\n  // import Select from '@material-ui/core/Select';\r\n  // import TextField from '@material-ui/core/TextField';\r\n  // import Button from '@material-ui/core/Button';\r\n  // import SearchIcon from '@material-ui/icons/Search';\r\n\r\n  // import { getCategories, list } from './apiCore';\r\n  // import Card from './Card';\r\n\r\n  // const useStyles = makeStyles((theme) => ({\r\n  //   formControl: {\r\n  //     margin: theme.spacing(1),\r\n  //     minWidth: 120,\r\n  //   },\r\n  //   selectEmpty: {\r\n  //     marginTop: theme.spacing(2),\r\n  //   },\r\n  //   tField: {\r\n  //     width: 800,\r\n  //     marginTop: 2,\r\n  //   },\r\n  //   root: {\r\n  //     '& > *': {\r\n  //       margin: theme.spacing(2),\r\n  //     },\r\n  //   },\r\n  // }));\r\n\r\n  // const Search = () => {\r\n  //   const [data, setData] = useState({\r\n  //     categories: [],\r\n  //     category: '',\r\n  //     search: '',\r\n  //     results: [],\r\n  //     searched: false,\r\n  //   });\r\n\r\n  //   const { categories, category, search, results, searched } = data;\r\n\r\n  //   const loadCategories = () => {\r\n  //     getCategories().then((data) => {\r\n  //       if (data.error) {\r\n  //         console.log(data.error);\r\n  //       } else {\r\n  //         setData({ ...data, categories: data });\r\n  //       }\r\n  //     });\r\n  //   };\r\n\r\n  //   useEffect(() => {\r\n  //     loadCategories();\r\n  //   }, []);\r\n\r\n  //   const searchData = () => {\r\n  //     // console.log(search, category);\r\n  //     if (search) {\r\n  //       list({ search: search || undefined, category: category }).then(\r\n  //         (response) => {\r\n  //           if (response.error) {\r\n  //             console.log(response.error);\r\n  //           } else {\r\n  //             setData({ ...data, results: response, searched: true });\r\n  //           }\r\n  //         }\r\n  //       );\r\n  //     }\r\n  //   };\r\n\r\n  //   const searchSubmit = (e) => {\r\n  //     e.preventDefault();\r\n  //     searchData();\r\n  //   };\r\n\r\n  //   const handleChange = (name) => (event) => {\r\n  //     setData({ ...data, [name]: event.target.value, searched: false });\r\n  //   };\r\n\r\n \r\n\r\n  const searchedProducts = (result = []) => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-1\"></div>\r\n        <div className=\"col-md-10\">\r\n          <h2 className=\"mt-4 mb-4 text-center\">\r\n            \r\n          </h2>\r\n          <div className=\"row\">\r\n            {result.map((product, i) => (\r\n              <div className=\"col-md-4 mb-3\">\r\n                <Card key={i} product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-1\"></div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const searchForm = () => (\r\n    <form >\r\n      <span className=\"input-group-text\">\r\n        <div className=\"input-group input-group-lg\">\r\n          <div className=\"input-group-prepend\">\r\n            \r\n              \r\n                <MenuItem value=\"All\">\r\n                  <em>All</em>\r\n                </MenuItem>\r\n                \r\n             \r\n          </div>\r\n\r\n          <TextField\r\n            onChange={handleSearch(\"search\")}\r\n            id=\"outlined-basic\"\r\n            label={\r\n              <span>\r\n                <SearchIcon />\r\n                Search by name\r\n              </span>\r\n            }\r\n            variant=\"outlined\"\r\n           \r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          <div className=\"ml-3 mt-2\" style={{ border: \"none\" }}>\r\n            <Button ml={2} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n              Search\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </span>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container mb-3\">{searchForm()}</div>\r\n      <div className=\"container-fluid mb-3\">{searchedProducts(results)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}
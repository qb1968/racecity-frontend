{"ast":null,"code":"import _objectSpread from\"D:\\\\Dustin\\\\racecity-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\Dustin\\\\racecity-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import Layout from\"./Layout\";import Search from\"./Search\";import Card from\"./Card\";import{getCategories,getFilteredProducts1}from\"./apiCore\";import Checkbox from\"./Checkbox\";import{prices}from\"./fixedPrices\";var Sample=function Sample(){var _useState=useState({filters:{category:[\"60e5a122a15ee5492460861b\"]}}),_useState2=_slicedToArray(_useState,2),myFilters=_useState2[0],setMyFilters=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredResults=_useState6[0],setFilteredResults=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(5000),_useState10=_slicedToArray(_useState9,2),limit=_useState10[0],setLimit=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),skip=_useState12[0],setSkip=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),size=_useState14[0],setSize=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),checked=_useState16[0],setChecked=_useState16[1];var init=function init(){getCategories().then(function(data){if(data.error){setError(data.error);}else{setCategory(data);}});};var loadFilteredResults=function loadFilteredResults(newFilters){console.log(newFilters);getFilteredProducts1(skip,limit,newFilters).then(function(data){if(data.error){setError(data.error);}else{setFilteredResults(data.data);setSize(data.size);setSkip(0);}console.log(data);});};useEffect(function(){init();loadFilteredResults(skip,limit,myFilters.filters);console.log(myFilters.filters);},[]);var handleFilters=function handleFilters(filters,filterBy){console.log(\"SHOP\",filters,filterBy);var newFilters=_objectSpread({},myFilters);newFilters.filters[filterBy]=filters;if(filterBy===\"price\"){var priceValues=handlePrice(filters);newFilters.filters[filterBy]=priceValues;}loadFilteredResults(myFilters.filters);setMyFilters(newFilters);};var handlePrice=function handlePrice(value){var data=prices;var array=[];for(var key in data){if(data[key]._id===parseInt(value)){array=data[key].array;}}return array;};return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Search,null),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-2\"},\"Comics\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},handleFilters,filteredResults.map(function(product,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"col-xl-4 col-lg-6 col-md-12 col-sm-12\"},/*#__PURE__*/React.createElement(Card,{product:product}));})),/*#__PURE__*/React.createElement(\"hr\",null))));};export default Sample;","map":{"version":3,"sources":["D:/Dustin/racecity-frontend/src/core/sample.js"],"names":["React","useState","useEffect","Layout","Search","Card","getCategories","getFilteredProducts1","Checkbox","prices","Sample","filters","category","myFilters","setMyFilters","setCategory","filteredResults","setFilteredResults","error","setError","limit","setLimit","skip","setSkip","size","setSize","checked","setChecked","init","then","data","loadFilteredResults","newFilters","console","log","handleFilters","filterBy","priceValues","handlePrice","value","array","key","_id","parseInt","map","product","i"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState,useEffect } from 'react';\r\nimport Layout from \"./Layout\";\r\nimport Search from \"./Search\";\r\nimport Card from \"./Card\";\r\nimport { getCategories, getFilteredProducts1 } from \"./apiCore\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport { prices } from \"./fixedPrices\";\r\n\r\nconst Sample = () => {\r\nconst [myFilters, setMyFilters] = useState({\r\n  filters: { category: [\"60e5a122a15ee5492460861b\"] },\r\n});\r\n    \r\n  const [category, setCategory] = useState([]);\r\n    const [filteredResults, setFilteredResults] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const [limit, setLimit] = useState(5000);\r\n    const [skip, setSkip] = useState(0);\r\n    const [size, setSize] = useState(0);\r\n    const [checked, setChecked] = useState(true);\r\n\r\n  const init = () => {\r\n     getCategories().then((data) => {\r\n       if (data.error) {\r\n         setError(data.error);\r\n       } else {\r\n         setCategory(data);\r\n       }\r\n     });\r\n    };\r\n\r\n     const loadFilteredResults = (newFilters) => {\r\n       console.log(newFilters);\r\n       getFilteredProducts1(skip, limit, newFilters).then((data) => {\r\n         if (data.error) {\r\n           setError(data.error);\r\n         } else {\r\n           setFilteredResults(data.data);\r\n           setSize(data.size);\r\n           setSkip(0);\r\n         }\r\n         console.log(data);\r\n       });\r\n    };\r\n    \r\n     useEffect(() => {\r\n       init();\r\n         \r\n         loadFilteredResults(skip, limit, myFilters.filters);\r\n         console.log(myFilters.filters)\r\n     }, []);\r\n    \r\n    \r\n     const handleFilters = (filters, filterBy) => {\r\n       console.log(\"SHOP\", filters, filterBy);\r\n       const newFilters = { ...myFilters };\r\n       newFilters.filters[filterBy] = filters;\r\n\r\n       if (filterBy === \"price\") {\r\n         let priceValues = handlePrice(filters);\r\n         newFilters.filters[filterBy] = priceValues;\r\n       }\r\n       loadFilteredResults(myFilters.filters);\r\n       setMyFilters(newFilters);\r\n     };\r\n\r\n     const handlePrice = (value) => {\r\n       const data = prices;\r\n       let array = [];\r\n\r\n       for (let key in data) {\r\n         if (data[key]._id === parseInt(value)) {\r\n           array = data[key].array;\r\n         }\r\n       }\r\n       return array;\r\n     };\r\n    \r\n   \r\n    \r\n    return (\r\n      <Layout>\r\n        <Search />\r\n        <div className=\"row\">\r\n          <div className=\"col-md-3\">\r\n           \r\n          </div>\r\n          <div className=\"col-md-9\">\r\n            <h2 className=\"mb-2\">Comics</h2>\r\n                    <div className=\"row\">\r\n                      {handleFilters}\r\n              {filteredResults.map((product, i) => (\r\n                <div key={i} className=\"col-xl-4 col-lg-6 col-md-12 col-sm-12\">\r\n                  <Card product={product} />\r\n                </div>\r\n              ))}\r\n                        \r\n            </div>\r\n            <hr />\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n}\r\n\r\nexport default Sample;\r\n"]},"metadata":{},"sourceType":"module"}
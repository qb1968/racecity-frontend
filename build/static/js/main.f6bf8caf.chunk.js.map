{"version":3,"sources":["images/Dustin.jpg","images/sw1 (2).png","images/sw2 (2).png","images/corner3 (2).png","images/corner4 (2).png","images/sm5 (2).png","images/sm6 (2).png","images/back8 (2).png","images/back9.png","images/b10 (2).png","images/b11.png","images/new1 (2).jpg","images/new2 (2).jpg","images/side14 (2).png","images/side15 (2).png","images/comics.pdf","core/Copyright.js","config.js","auth/index.js","core/cartHelpers.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/emailForm.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/fixedPrices.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","user/Profile.js","admin/ManageProducts.js","admin/UpdateProduct.js","core/NotFound.js","Routes.js","index.js"],"names":["module","exports","Copyright","Box","mt","mb","Typography","variant","color","align","Link","href","Date","getFullYear","API","process","signout","next","window","localStorage","removeItem","fetch","method","then","response","console","log","catch","err","isAuthenticated","getItem","JSON","parse","itemTotal","length","isActive","history","path","location","pathname","textDecoration","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","breakpoints","up","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","withRouter","classes","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleMobileMenuClose","handleMenuClose","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","renderMobileMenu","style","to","IconButton","aria-label","Badge","badgeContent","user","role","cursor","push","className","AppBar","Toolbar","edge","noWrap","aria-controls","aria-haspopup","event","currentTarget","Layout","description","children","src","Pic","paper","marginTop","flexDirection","avatar","margin","secondary","main","form","submit","Signup","name","email","password","error","success","values","setValues","handleChange","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","Container","component","maxWidth","CssBaseline","Avatar","noValidate","Grid","container","item","xs","TextField","autoComplete","onChange","type","required","fullWidth","label","autoFocus","Button","justify","signUpForm","Signin","loading","redirectToReferrer","signin","setItem","authenticate","FormControlLabel","control","signInForm","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","ShowImage","url","_id","alt","objectFit","icon","heroContent","background","heroButtons","cardGrid","paddingTop","paddingBottom","card","cardMedia","cardContent","productDescription","footer","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","addToCart","cart","Array","from","Set","map","p","find","addItem","productId","i","updateItem","sm","md","shouldRedirect","CardContent","gutterBottom","substring","price","category","moment","createdAt","fromNow","quantity","showViewButton","showAddToCartBtn","splice","button","startIcon","showRemoveButton","showCartUpdateOptions","formControl","minWidth","selectEmpty","tField","root","Search","categories","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","searchMessage","onSubmit","FormControl","InputLabel","Select","labelId","displayEmpty","c","key","border","ml","searchedProducts","Email_Form","props","context","state","subject","message","show","param","setState","handleShow","bind","handleClose","this","resetForm","templateParams","from_name","to_name","message_html","emailjs","result","text","modal","Form","handleSubmit","FormGroup","Control","placeholder","controlId","as","rows","size","Modal","aria-labelledby","onHide","centered","Body","Component","Home","setProductsBySell","productsByArrival","setProductsByArrival","setError","Pic2","Pic3","Pic4","Pic5","Pic6","Pic7","Pic8","Pic9","Pic10","Pic11","Pic12","Pic13","Pic14","Pdf","rel","PrivateRoute","rest","render","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","h","products","purchaseHistory","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","Checkbox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","prices","array","Shop","myFilters","setMyFilters","setCategories","setSkip","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","btn","boxShadow","handlePrice","parseInt","filterBy","priceValues","Product","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","read","listRelated","match","Checkout","clientToken","instance","address","getToken","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","o","oIndex","borderBottom","index","showStatus","pIndex","Profile","update","alert","auth","updateUser","profileUpdate","redirectUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","NotFound","fontSize","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f6bf8caf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Dustin.0dc6b6d6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sw1 (2).6c8bafec.png\";","module.exports = __webpack_public_path__ + \"static/media/sw2 (2).e3b10805.png\";","module.exports = __webpack_public_path__ + \"static/media/corner3 (2).840cd76f.png\";","module.exports = __webpack_public_path__ + \"static/media/corner4 (2).66a23af3.png\";","module.exports = __webpack_public_path__ + \"static/media/sm5 (2).d23a4f8b.png\";","module.exports = __webpack_public_path__ + \"static/media/sm6 (2).e2cc6332.png\";","module.exports = __webpack_public_path__ + \"static/media/back8 (2).b7bb439b.png\";","module.exports = __webpack_public_path__ + \"static/media/back9.2a268be8.png\";","module.exports = __webpack_public_path__ + \"static/media/b10 (2).137b4856.png\";","module.exports = __webpack_public_path__ + \"static/media/b11.883f875d.png\";","module.exports = __webpack_public_path__ + \"static/media/new1 (2).9a1e9a35.jpg\";","module.exports = __webpack_public_path__ + \"static/media/new2 (2).dea55374.jpg\";","module.exports = __webpack_public_path__ + \"static/media/side14 (2).6e54463f.png\";","module.exports = __webpack_public_path__ + \"static/media/side15 (2).fa064821.png\";","module.exports = __webpack_public_path__ + \"static/media/comics.64250da8.pdf\";","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default function Copyright() {\r\n  return (\r\n    <Box mt={8} mb={4}>\r\n      <Typography variant='body2' color='textSecondary' align='center'>\r\n        {'Copyright  '}\r\n        <Link color='inherit' href='#'>\r\n         Jonathan Allison\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n}\r\n","export const API = process.env.REACT_APP_API_URL || \"https://racecitycomics2.herokuapp.com/api\";\r\n","import { API } from '../config';\r\n\r\nexport const signup = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`${API}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`${API}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.setItem('jwt', JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('jwt');\r\n    next();\r\n    return fetch(`${API}/signout`, {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => {\r\n        console.log('signout', response);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window === 'undefined') {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem('jwt')) {\r\n    return JSON.parse(localStorage.getItem('jwt'));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","export const addItem = (item = [], count = 0, next = (f) => f) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n\r\n    // remove duplicates\r\n    // build an Array from new Set and turn it back into array using Array.from\r\n    // so that later we can re-map it\r\n    // new set will only allow unique values in it\r\n    // so pass the ids of each object/product\r\n    // If the loop tries to add the same value again, it'll get ignored\r\n    // ...with the array of ids we got on when first map() was used\r\n    // run map() on it again and return the actual product from the cart\r\n\r\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\r\n      return cart.find((p) => p._id === id);\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      return JSON.parse(localStorage.getItem('cart')).length;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      return JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart[i].count = count;\r\n      }\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const removeItem = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const emptyCart = (next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('cart');\r\n    next();\r\n  }\r\n};\r\n","import React, { Fragment } from 'react';\r\nimport { Link, withRouter, forceUpdate } from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth';\r\nimport { itemTotal } from './cartHelpers';\r\n\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Button from '@material-ui/core/Button';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport StorefrontIcon from '@material-ui/icons/Storefront';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport StoreIcon from '@material-ui/icons/Store';\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: '#ff9900', textDecoration: 'none' };\r\n  } else {\r\n    return { color: '#ffffff', textDecoration: 'none' };\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst MaterialAppBar = ({ history }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <div style={{ backgroundColor: '#404040' }}>\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/')} to='/'>\r\n            <IconButton aria-label='Home' color='inherit'>\r\n              <HomeIcon />\r\n            </IconButton>\r\n            Home\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/shop')} to='/shop'>\r\n            <IconButton aria-label='Shop' color='inherit'>\r\n              <StorefrontIcon />\r\n            </IconButton>\r\n            Shop\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/cart')} to='/cart'>\r\n            <IconButton aria-label='Cart' color='inherit'>\r\n              <Badge badgeContent={itemTotal()} color='secondary'>\r\n                <ShoppingCartIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            Cart\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n          <MenuItem>\r\n            <Link\r\n              style={isActive(history, '/user/dashboard')}\r\n              to='/user/dashboard'\r\n            >\r\n              <IconButton aria-label='Dashboard' color='inherit'>\r\n                <DashboardIcon />\r\n              </IconButton>\r\n              Dashboard\r\n            </Link>\r\n          </MenuItem>\r\n        )}\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n          <MenuItem>\r\n            <Link\r\n              style={isActive(history, '/admin/dashboard')}\r\n              to='/admin/dashboard'\r\n            >\r\n              <IconButton aria-label='Dashboard' color='inherit'>\r\n                <DashboardIcon />\r\n              </IconButton>\r\n              Dashboard\r\n            </Link>\r\n          </MenuItem>\r\n        )}\r\n\r\n        {!isAuthenticated() && (\r\n          <Fragment>\r\n            <MenuItem>\r\n              <Link style={isActive(history, '/signin')} to='/signin'>\r\n                <IconButton aria-label='Signin' color='inherit'>\r\n                  <AccountCircleIcon />\r\n                </IconButton>\r\n                Signin\r\n              </Link>\r\n            </MenuItem>\r\n\r\n            <MenuItem>\r\n              <Link style={isActive(history, '/signup')} to='/signup'>\r\n                <IconButton aria-label='Signup' color='inherit'>\r\n                  <PersonAddIcon />\r\n                </IconButton>\r\n                Signup\r\n              </Link>\r\n            </MenuItem>\r\n          </Fragment>\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <MenuItem>\r\n            <span\r\n              style={{ cursor: 'pointer', color: '#ffffff' }}\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push('/');\r\n                })\r\n              }\r\n            >\r\n              <IconButton aria-label='Signout' color='inherit'>\r\n                <ExitToAppIcon />\r\n              </IconButton>\r\n              Signout\r\n            </span>\r\n          </MenuItem>\r\n        )}\r\n      </div>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position='fixed'>\r\n        <Toolbar>\r\n          <a href='/' style={{ color: '#ffffff' }}>\r\n            <IconButton\r\n              edge='start'\r\n              className={classes.menuButton}\r\n              color='inherit'\r\n              aria-label='brand'\r\n            >\r\n              <StoreIcon />\r\n            </IconButton>\r\n          </a>\r\n          <a href='/' style={{ color: '#ffffff', textDecoration: 'none' }}>\r\n            <Typography className={classes.title} variant='h4' noWrap>\r\n              RaceCityComics\r\n            </Typography>\r\n          </a>\r\n\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <Link style={isActive(history, '/')} to='/'>\r\n              <IconButton aria-label='Home' color='inherit'>\r\n                <HomeIcon />\r\n                <Typography noWrap>Home</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            <Link style={isActive(history, '/shop')} to='/shop'>\r\n              <IconButton aria-label='Shop' color='inherit'>\r\n                <StorefrontIcon />\r\n                <Typography noWrap>Shop</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            <Link style={isActive(history, '/cart')} to='/cart'>\r\n              <IconButton aria-label='Cart' color='inherit'>\r\n                <Badge badgeContent={itemTotal()} color='secondary'>\r\n                  <ShoppingCartIcon />\r\n                </Badge>\r\n                <Typography noWrap>Cart</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n              <Link\r\n                style={isActive(history, '/user/dashboard')}\r\n                to='/user/dashboard'\r\n              >\r\n                <IconButton aria-label='Dashboard' color='inherit'>\r\n                  <DashboardIcon />\r\n                  <Typography noWrap>Dashboard</Typography>\r\n                </IconButton>\r\n              </Link>\r\n            )}\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n              <Link\r\n                style={isActive(history, '/admin/dashboard')}\r\n                to='/admin/dashboard'\r\n              >\r\n                <IconButton aria-label='Dashboard' color='inherit'>\r\n                  <DashboardIcon />\r\n                  <Typography noWrap>Dashboard</Typography>\r\n                </IconButton>\r\n              </Link>\r\n            )}\r\n\r\n            {!isAuthenticated() && (\r\n              <Fragment>\r\n                <Link style={isActive(history, '/signin')} to='/signin'>\r\n                  <IconButton aria-label='Signin' color='inherit'>\r\n                    <AccountCircleIcon />\r\n                    <Typography noWrap>Signin</Typography>\r\n                  </IconButton>\r\n                </Link>\r\n\r\n                <Link style={isActive(history, '/signup')} to='/signup'>\r\n                  <IconButton aria-label='Signup' color='inherit'>\r\n                    <PersonAddIcon />\r\n                    <Typography noWrap>Signup</Typography>\r\n                  </IconButton>\r\n                </Link>\r\n              </Fragment>\r\n            )}\r\n\r\n            {isAuthenticated() && (\r\n              <span\r\n                style={{ cursor: 'pointer', color: '#ffffff' }}\r\n                onClick={() =>\r\n                  signout(() => {\r\n                    history.push('/');\r\n                  })\r\n                }\r\n              >\r\n                <IconButton aria-label='Signout' color='inherit'>\r\n                  <ExitToAppIcon />\r\n                  <Typography noWrap>Signout</Typography>\r\n                </IconButton>\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label='show more'\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup='true'\r\n              onClick={handleMobileMenuOpen}\r\n              color='inherit'\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(MaterialAppBar);\r\n","import React from 'react';\r\nimport Menu from './Menu';\r\nimport '../styles.css';\r\nimport Pic from '../images/Dustin.jpg'\r\n\r\nconst Layout = ({\r\n  title = \"Title\",\r\n  description = \"Description\",\r\n  className,\r\n  children,\r\n}) => (\r\n  <div>\r\n    <Menu />\r\n    \r\n    <div className=\"jumbotron mt-1\">\r\n      \r\n      \r\n      <img className=\"pic1\" src={Pic}/>\r\n      \r\n      \r\n    </div>\r\n    \r\n    <div className={className}>{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n// import Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Copyright from '../core/Copyright';\r\n\r\nimport Layout from '../core/Layout';\r\nimport { signup } from '../auth';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signup() {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, success, error } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault(); // so that browser does not reload\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, success: false });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: '',\r\n          email: '',\r\n          password: '',\r\n          error: '',\r\n          success: true,\r\n        });\r\n      }\r\n    }); // sending js object\r\n  };\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: success ? '' : 'none' }}\r\n    >\r\n      New account is created. Please <Link to='/signin'>Signin</Link>.\r\n    </div>\r\n  );\r\n\r\n  const classes = useStyles();\r\n\r\n  const signUpForm = () => (\r\n    <Container component='main' maxWidth='xs'>\r\n      {showSuccess()}\r\n      {showError()}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                autoComplete='off'\r\n                onChange={handleChange('name')}\r\n                type='text'\r\n                name='name'\r\n                value={name}\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                id='name'\r\n                label='Full Name'\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                id='email'\r\n                label='Email Address'\r\n                name='email'\r\n                onChange={handleChange('email')}\r\n                type='email'\r\n                value={email}\r\n                autoComplete='off'\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                name='password'\r\n                label='Password'\r\n                type='password'\r\n                id='password'\r\n                onChange={handleChange('password')}\r\n                type='password'\r\n                value={password}\r\n                autoComplete='current-password'\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n            className={classes.submit}\r\n            onClick={clickSubmit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify='flex-end'>\r\n            <Grid item>\r\n              <Link to='/signin' variant='body2'>\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Signup page'\r\n      description='Signup to MERN E-commerce App'\r\n      className='container col-md-8 offset-md-2'\r\n    >\r\n      {signUpForm()}\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Copyright from '../core/Copyright';\r\nimport { signin, authenticate, isAuthenticated } from '../auth';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signin() {\r\n  const [values, setValues] = useState({\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n    loading: false,\r\n    redirectToReferrer: false,\r\n  });\r\n\r\n  const { email, password, loading, error, redirectToReferrer } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault(); // so that browser does not reload\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, loading: false });\r\n      } else {\r\n        authenticate(data, () => {\r\n          setValues({\r\n            ...values,\r\n            redirectToReferrer: true,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className='alert alert-info'>\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToReferrer) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to='/admin/dashboard' />;\r\n      } else {\r\n        return <Redirect to='/user/dashboard' />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to='/' />;\r\n    }\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const signInForm = () => (\r\n    <Container component='main' maxWidth='xs'>\r\n      {showError()}\r\n      {showLoading()}\r\n      {redirectUser()}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            id='email'\r\n            label='Email Address'\r\n            name='email'\r\n            autoComplete='email'\r\n            onChange={handleChange('email')}\r\n            type='email'\r\n            value={email}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            name='password'\r\n            label='Password'\r\n            type='password'\r\n            id='password'\r\n            onChange={handleChange('password')}\r\n            type='password'\r\n            value={password}\r\n            autoComplete='current-password'\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value='remember' color='primary' />}\r\n            label='Remember me'\r\n          />\r\n          <Button\r\n            onClick={clickSubmit}\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href='#' variant='body2'>\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to='/signup' variant='body2'>\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Signin page'\r\n      description='Signin to MERN E-commerce App'\r\n      className='container col-md-8 offset-md-2'\r\n    >\r\n      {signInForm()}\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n}\r\n","import { API } from '../config';\r\nimport queryString from 'query-string';\r\n\r\nexport const getProducts = (sortBy) => {\r\n  return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=3`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n  const data = {\r\n    limit,\r\n    skip,\r\n    filters,\r\n  };\r\n  return fetch(`${API}/products/by/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const list = (params) => {\r\n  const query = queryString.stringify(params);\r\n  console.log('query', query);\r\n  return fetch(`${API}/products/search?${query}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const read = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelated = (productId) => {\r\n  return fetch(`${API}/products/related/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n  return fetch(`${API}/braintree/getToken/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  return fetch(`${API}/braintree/payment/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentData),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: createOrderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React from 'react';\r\nimport { API } from '../config';\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n  <div className='product-img' style={{height: '250px'}}>\r\n    <img\r\n      src={`${API}/${url}/photo/${item._id}`}\r\n      alt={item.name}\r\n      className='mb-3'\r\n      style={{ objectFit: 'contain', height: '100%', width: '100%', display: 'flex', marginLeft: 'auto', marginRight: 'auto' }}\r\n    />\r\n    {/* <img\r\n      src={`${API}/${url}/photo2/${item._id}`}\r\n      \r\n      className='mb-3'\r\n      style={{ objectFit: 'contain', height: '100%', width: '100%', display: 'flex', marginLeft: 'auto', marginRight: 'auto' }}\r\n    /> */}\r\n  </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ShowImage from './ShowImage';\r\nimport ShowImage2 from './ShowImage2'\r\nimport moment from 'moment';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport CardM from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport { addItem, updateItem, removeItem } from './cartHelpers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  productDescription: {\r\n    height: '100px',\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n  },\r\n}));\r\n\r\nconst Card = ({\r\n  product,\r\n  showViewProductButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveProductButton = false,\r\n  setRun = (f) => f, // default value of function\r\n  run = undefined, // default value of undefined\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const showViewButton = (showViewProductButton) => {\r\n    return (\r\n      showViewProductButton && (\r\n        <Link href={`/product/${product._id}`} className='mr-2'>\r\n          <Button variant='contained' color='primary'>\r\n            View Product\r\n          </Button>\r\n        </Link>\r\n      )\r\n    );\r\n  };\r\n\r\n  const addToCart = () => {\r\n    // console.log('added');\r\n    addItem(product, setRedirect(true));\r\n  };\r\n\r\n  const shouldRedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to='/cart' />;\r\n    }\r\n  };\r\n\r\n  const showAddToCartBtn = (showAddToCartButton) => {\r\n    return (\r\n      showAddToCartButton && (\r\n        <Button onClick={addToCart} variant='outlined' color='secondary'>\r\n          Add to cart\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showStock = (quantity) => {\r\n    return quantity > 0 ? (\r\n      <span className='badge badge-primary badge-pill'>In Stock </span>\r\n    ) : (\r\n      <span className='badge badge-primary badge-pill'>Out of Stock </span>\r\n    );\r\n  };\r\n\r\n  const handleChange = (productId) => (event) => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = (cartUpdate) => {\r\n    return (\r\n      cartUpdate && (\r\n        <div className='mt-2'>\r\n          <div className='input-group mb-3'>\r\n            <div className='input-group-prepend'>\r\n              <span className='input-group-text'>Adjust Quantity</span>\r\n            </div>\r\n            <input\r\n              type='number'\r\n              className='form-control'\r\n              value={count}\r\n              onChange={handleChange(product._id)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveButton = (showRemoveProductButton) => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <Button\r\n          onClick={() => {\r\n            removeItem(product._id);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          variant='contained'\r\n          color='secondary'\r\n          className={classes.button}\r\n          startIcon={<DeleteIcon />}\r\n        >\r\n          Remove Product\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    // <div className='card'>\r\n    //   <div className='card-header name'>{product.name}</div>\r\n    //   <div className='card-body'>\r\n    //     {shouldRedirect(redirect)}\r\n    //     <ShowImage item={product} url='product' />\r\n    //     <p className='lead mt-2'>{product.description.substring(0, 100)}</p>\r\n    //     <p className='black-10'>${product.price}</p>\r\n    //     <p className='black-9'>\r\n    //       Category: {product.category && product.category.name}\r\n    //     </p>\r\n    //     <p className='black-8'>\r\n    //       Added on {moment(product.createdAt).fromNow()}\r\n    //     </p>\r\n\r\n    //     {showStock(product.quantity)}\r\n    //     <br></br>\r\n\r\n    //     {showViewButton(showViewProductButton)}\r\n\r\n    //     {showAddToCartBtn(showAddToCartButton)}\r\n\r\n    //     {showRemoveButton(showRemoveProductButton)}\r\n\r\n    //     {showCartUpdateOptions(cartUpdate)}\r\n    //   </div>\r\n    // </div>\r\n\r\n    <Container className={classes.cardGrid} maxWidth='md'>\r\n      <CssBaseline />\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12} sm={12} md={12}>\r\n          <CardM className={classes.card}>\r\n            {shouldRedirect(redirect)}\r\n            <ShowImage item={product} url='product' />\r\n            {/* <ShowImage2 item={product} url='product' /> */}\r\n            <CardContent className={classes.cardContent}>\r\n              <Typography gutterBottom variant='h5' component='h2'>\r\n                {product.name}\r\n              </Typography>\r\n              <Typography className={classes.productDescription}>{product.description.substring(0, 100)}</Typography>\r\n              <p className='black-10'>Price: ${product.price}</p>\r\n              <p className='black-9'>\r\n                Category: {product.category && product.category.name}{' '}\r\n              </p>{' '}\r\n              <p className='black-8'>\r\n                Added on {moment(product.createdAt).fromNow()}{' '}\r\n              </p>\r\n              {showStock(product.quantity)}\r\n              <br></br>\r\n              <span>\r\n                {showViewButton(showViewProductButton)}\r\n                {showAddToCartBtn(showAddToCartButton)}\r\n                {showRemoveButton(showRemoveProductButton)}\r\n              </span>\r\n              {showCartUpdateOptions(cartUpdate)}\r\n            </CardContent>\r\n          </CardM>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nimport { getCategories, list } from './apiCore';\r\nimport Card from './Card';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tField: {\r\n    width: 800,\r\n    marginTop: 2,\r\n  },\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst Search = () => {\r\n  const [data, setData] = useState({\r\n    categories: [],\r\n    category: '',\r\n    search: '',\r\n    results: [],\r\n    searched: false,\r\n  });\r\n\r\n  const { categories, category, search, results, searched } = data;\r\n\r\n  const loadCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setData({ ...data, categories: data });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const searchData = () => {\r\n    // console.log(search, category);\r\n    if (search) {\r\n      list({ search: search || undefined, category: category }).then(\r\n        (response) => {\r\n          if (response.error) {\r\n            console.log(response.error);\r\n          } else {\r\n            setData({ ...data, results: response, searched: true });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const searchSubmit = (e) => {\r\n    e.preventDefault();\r\n    searchData();\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setData({ ...data, [name]: event.target.value, searched: false });\r\n  };\r\n\r\n  const searchMessage = (searched, results) => {\r\n    if (searched && results.length > 0) {\r\n      return `Found ${results.length} products`;\r\n    }\r\n    if (searched && results.length < 1) {\r\n      return `Search: No products found`;\r\n    }\r\n  };\r\n\r\n  const searchedProducts = (results = []) => {\r\n    return (\r\n      <div className='row'>\r\n        <div className='col-md-1'></div>\r\n        <div className='col-md-10'>\r\n          <h2 className='mt-4 mb-4 text-center'>{searchMessage(searched, results)}</h2>\r\n          <div className='row'>\r\n            {results.map((product, i) => (\r\n              <div className='col-md-4 mb-3'>\r\n                <Card key={i} product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className='col-md-1'></div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const searchForm = () => (\r\n    <form onSubmit={searchSubmit} className={classes.root}>\r\n      <span className='input-group-text'>\r\n        <div className='input-group input-group-lg'>\r\n          <div className='input-group-prepend'>\r\n            <FormControl className={classes.formControl}>\r\n              <InputLabel id='demo-simple-select-helper-label'>\r\n                Select\r\n              </InputLabel>\r\n              <Select\r\n                labelId='demo-simple-select-placeholder-label-label'\r\n                id='demo-simple-select-placeholder-label'\r\n                value={data.name}\r\n                onChange={handleChange('category')}\r\n                displayEmpty\r\n                className={classes.selectEmpty}\r\n              >\r\n                <MenuItem value='All'>\r\n                  <em>All</em>\r\n                </MenuItem>\r\n                {categories.map((c, i) => (\r\n                  <MenuItem key={i} value={c._id}>\r\n                    {c.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n\r\n          <TextField\r\n            onChange={handleChange('search')}\r\n            id='outlined-basic'\r\n            label={<span><SearchIcon/>Search by name</span>}\r\n            variant='outlined'\r\n            className={classes.tField}\r\n            autoComplete='off'\r\n          />\r\n\r\n          <div className='ml-3 mt-2' style={{ border: 'none' }}>\r\n            <Button ml={2} variant='contained' color='primary' type='submit'>\r\n              Search\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </span>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className='row'>\r\n      <div className='container mb-3'>{searchForm()}</div>\r\n      <div className='container-fluid mb-3'>{searchedProducts(results)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n// import \"../email_form/style.css\";\r\nimport * as emailjs from \"emailjs-com\";\r\n// 'service_68tukea', 'template_uyojpy3', e.target, 'user_ZwzQz54DI5UoSAiLTA0Z7'\r\n\r\nimport { Button, Form, FormGroup, Modal, Image } from \"react-bootstrap\";\r\n\r\n\r\nclass Email_Form extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.state = {\r\n      show: false,\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n    this.setState({ name: \"\" });\r\n    this.resetForm();\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true, loading: false });\r\n  }\r\n\r\n  state = {\r\n    name: \"\",\r\n    email: \"\",\r\n    subject: \"\",\r\n    message: \"\",\r\n    show: false,\r\n  };\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n\r\n    const { email, subject, message, name } = this.state;\r\n\r\n    let templateParams = {\r\n      from_name: email,\r\n      to_name: \"motasimfoad@gmail.com\",\r\n      name: name,\r\n      subject: subject,\r\n      message_html: message,\r\n    };\r\n\r\n    //=======================\r\n    // Use your own API key\r\n    //=======================\r\n\r\n    emailjs\r\n      .send(\r\n        \"service_3wdj5pe\",\r\n        \"template_awdo6zl\",\r\n        templateParams,\r\n        \"user_ZwzQz54DI5UoSAiLTA0Z7\"\r\n      )\r\n      .then(\r\n        (result) => {\r\n          this.handleShow();\r\n          console.log(result.text);\r\n        },\r\n        (error) => {\r\n          console.log(error.text);\r\n        }\r\n      );\r\n  }\r\n\r\n  resetForm() {\r\n    this.setState({\r\n      email: \"\",\r\n      subject: \"\",\r\n      message: \"\",\r\n      modal: false,\r\n    });\r\n  }\r\n\r\n  handleChange = (param, e) => {\r\n    this.setState({ [param]: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.handleSubmit.bind(this)} className=\"Contact-form\">\r\n        <p className=\"contact-form-header\">Contact Us</p>\r\n        <FormGroup className=\"contact_input\">\r\n          <Form.Control\r\n            type=\"email\"\r\n            value={this.state.email}\r\n            className=\"contact_input_text\"\r\n            onChange={this.handleChange.bind(this, \"email\")}\r\n            placeholder=\"Email Address\"\r\n            required\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"formBasicName\" className=\"contact_input\">\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows=\"1\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange.bind(this, \"name\")}\r\n            placeholder=\"Your Name\"\r\n            className=\"contact_input_text\"\r\n            required\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"formBasicSubject\" className=\"contact_input\">\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows=\"1\"\r\n            value={this.state.subject}\r\n            onChange={this.handleChange.bind(this, \"subject\")}\r\n            placeholder=\"Subject\"\r\n            className=\"contact_input_text\"\r\n            required\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"formBasicMessage\" className=\"contact_input\">\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows=\"6\"\r\n            value={this.state.message}\r\n            placeholder=\"Your text\"\r\n            onChange={this.handleChange.bind(this, \"message\")}\r\n            className=\"contact_input_text\"\r\n            required\r\n          />\r\n        </FormGroup>\r\n        <Button\r\n          className=\"contact-email-text-btn\"\r\n          variant=\"outline-dark\"\r\n          size=\"lg\"\r\n          type=\"submit\"\r\n        >\r\n          Submit\r\n          \r\n        </Button>\r\n\r\n        <Modal\r\n          size=\"md\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          show={this.state.show}\r\n          onHide={this.handleClose}\r\n          centered\r\n        >\r\n          <Modal.Body className=\"contact_success_modal_body\">\r\n            \r\n            <h5>\r\n              Thank you{\" \"}\r\n              <span>\r\n                <strong>{this.state.name}</strong>!!\r\n              </span>{\" \"}\r\n              \r\n            </h5>\r\n            <h6>Your message was successfully recorded</h6>\r\n            <br />\r\n            <Button\r\n              variant=\"outline-light\"\r\n              size=\"lg\"\r\n              onClick={this.handleClose}\r\n              className=\"contact-email-text-btn\"\r\n            >\r\n              Close\r\n            </Button>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Email_Form;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { getProducts } from './apiCore';\r\nimport Card from './Card';\r\nimport Search from './Search';\r\nimport 'fontsource-roboto';\r\nimport Copyright from './Copyright';\r\nimport Button from '@material-ui/core/Button';\r\nimport Email_Form from './emailForm';\r\nimport Pic from '../images/sw1 (2).png';\r\nimport Pic2 from '../images/sw2 (2).png';\r\nimport Pic3 from '../images/corner3 (2).png';\r\nimport Pic4 from '../images/corner4 (2).png';\r\nimport Pic5 from '../images/sm5 (2).png';\r\nimport Pic6 from '../images/sm6 (2).png';\r\nimport Pic7 from '../images/back8 (2).png';\r\nimport Pic8 from '../images/back9.png';\r\nimport Pic9 from '../images/b10 (2).png';\r\nimport Pic10 from '../images/b11.png';\r\nimport Pic11 from '../images/new1 (2).jpg';\r\nimport Pic12 from '../images/new2 (2).jpg';\r\nimport Pic13 from '../images/side14 (2).png';\r\nimport Pic14 from '../images/side15 (2).png';\r\nimport Pdf from '../images/comics.pdf'\r\n\r\nconst Home = () => {\r\n  const [productsBySell, setProductsBySell] = useState([]);\r\n  const [productsByArrival, setProductsByArrival] = useState([]);\r\n  const [error, setError] = useState([]);\r\n\r\n  const loadProductsBySell = () => {\r\n    getProducts('sold').then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProductsBySell(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadProductsByArrival = () => {\r\n    getProducts('createdAt').then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProductsByArrival(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProductsByArrival();\r\n    loadProductsBySell();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout title=\"Home page\" description=\"Main\" className=\"container-fluid\">\r\n      <Search />\r\n      <div className=\"row\">\r\n        <div className=\"col-md-1\"></div>\r\n        <div className=\"col-md-10\">\r\n          <h2 className=\"mb-2\">New Arrivals</h2>\r\n          <div className=\"row\">\r\n            {productsByArrival.map((product, i) => (\r\n              <div key={i} className=\"col-xl-4 col-lg-6 col-md-6 col-sm-12\">\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* <h2 className='mb-2 mt-4'>Best Sellers</h2>\r\n          <div className='row'>\r\n            {productsBySell.map((product, i) => (\r\n              <div key={i} className='col-xl-4 col-lg-6 col-md-6 col-sm-12'>\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div> */}\r\n        </div>\r\n        <div className=\"col-md-1\"></div>\r\n      </div>\r\n      <div className=\"press\">\r\n        <h1>Pressing Services</h1>\r\n        <p>\r\n          Pressing removes Bends, bunched spine, dents, digital code squares,\r\n          dirt, production lines, non color breaking spine ticks, staple push &\r\n          improper pressing mistakes. Cleaning services Dry cleaning removes\r\n          dirt, soil and putty from comics. WE SUBMIT TO CGC with Forms.Check\r\n          out this before and after samples below.\r\n        </p>\r\n      </div>\r\n      <div className=\"pics\">\r\n        <img className=\"pic\" src={Pic} />\r\n        <img className=\"pic\" src={Pic2} />\r\n        <img className=\"pic\" src={Pic3} />\r\n        <img className=\"pic\" src={Pic4} />\r\n        <img className=\"pic\" src={Pic5} />\r\n        <img className=\"pic\" src={Pic6} />\r\n        <img className=\"pic\" src={Pic7} />\r\n        <img className=\"pic\" src={Pic8} />\r\n      </div>\r\n      <div className=\"pics2\">\r\n        <img className=\"pic\" src={Pic9} />\r\n        <img className=\"pic\" src={Pic10} />\r\n        <img className=\"pic\" src={Pic11} />\r\n        <img className=\"pic\" src={Pic12} />\r\n        <img className=\"pic\" src={Pic13} />\r\n        <img className=\"pic\" src={Pic14} />\r\n      </div>\r\n      <div className=\"button\">\r\n        <h2>Interested download the form to get started</h2>\r\n        <a href={Pdf} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          <Button variant=\"contained\">Download Form</Button>\r\n        </a>\r\n      </div>\r\n\r\n      <div className=\"contact\">\r\n        <Email_Form />\r\n      </div>\r\n\r\n      <div className=\"address\">\r\n        <h4>RaceCity Comics </h4>\r\n        <h4>PO Box 784</h4>\r\n        <h4>Harrisburg NC 28075</h4>\r\n      </div>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/signin',\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { getPurchaseHistory } from './apiUser';\r\nimport moment from 'moment';\r\n\r\nconst Dashboard = () => {\r\n  const [history, setHistory] = useState([]);\r\n\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n\r\n  const token = isAuthenticated().token;\r\n\r\n  const init = (userId, token) => {\r\n    getPurchaseHistory(userId, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setHistory(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(_id, token);\r\n  }, []);\r\n\r\n  const userLinks = () => {\r\n    return (\r\n      <div className='card'>\r\n        <h4 className='card-header'>User links</h4>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/cart'>\r\n              My cart\r\n            </Link>\r\n          </li>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to={`/profile/${_id}`}>\r\n              Update profile\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const userInfo = () => {\r\n    return (\r\n      <div className='card mb-5'>\r\n        <h3 className='card-header'>User information</h3>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>{name}</li>\r\n          <li className='list-group-item'>{email}</li>\r\n          <li className='list-group-item'>\r\n            {role === 1 ? 'Admin' : 'Registered user'}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const purchaseHistory = (history) => {\r\n    return (\r\n      <div className='card mb-5'>\r\n        <h3 className='card-header'>Purchase history</h3>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>\r\n            {history.map((h, i) => {\r\n              return (\r\n                <div>\r\n                  <hr />\r\n                  {h.products.map((p, i) => {\r\n                    return (\r\n                      <div key={i}>\r\n                        <h6>Product name: {p.name}</h6>\r\n                        <h6>Product price: ${p.price}</h6>\r\n                        <h6>Purchased date: {moment(p.createdAt).fromNow()}</h6>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              );\r\n            })}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title='Dashboard'\r\n      description={`${name}`}\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-3'>{userLinks()}</div>\r\n        <div className='col-md-9'>\r\n          {userInfo()}\r\n          {purchaseHistory(history)}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { API } from '../config';\r\n\r\nexport const read = (userId, token) => {\r\n  return fetch(`${API}/user/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n  return fetch(`${API}/user/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('jwt')) {\r\n      let auth = JSON.parse(localStorage.getItem('jwt'));\r\n      auth.user = user;\r\n      localStorage.setItem('jwt', JSON.stringify(auth));\r\n      next();\r\n    }\r\n  }\r\n};\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n  return fetch(`${API}/orders/by/user/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/signin',\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default AdminRoute;\r\n","import React from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n\r\n  const adminLinks = () => {\r\n    return (\r\n      <div className='card'>\r\n        <h4 className='card-header'>Admin Links</h4>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/create/category'>\r\n              Create category\r\n            </Link>\r\n          </li>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/create/product'>\r\n              Create product\r\n            </Link>\r\n          </li>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/admin/orders'>\r\n              View Orders\r\n            </Link>\r\n          </li>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/admin/products'>\r\n              Manage Products\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const adminInfo = () => {\r\n    return (\r\n      <div className='card mb-5'>\r\n        <h3 className='card-header'>User information</h3>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>{name}</li>\r\n          <li className='list-group-item'>{email}</li>\r\n          <li className='list-group-item'>\r\n            {role === 1 ? 'Admin' : 'Registered user'}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title='Dashboard'\r\n      description={`${name}`}\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-3'>{adminLinks()}</div>\r\n        <div className='col-md-9'>{adminInfo()}</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { API } from '../config';\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listOrders = (userId, token) => {\r\n  return fetch(`${API}/order/list/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n  return fetch(`${API}/order/status-values/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n  return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ status, orderId }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n/**\r\n * to perform crud on product\r\n * get all products\r\n * get a single product\r\n * update single product\r\n * delete single product\r\n */\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products?limit=undefined`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { createCategory } from './apiAdmin';\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState('');\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  // destructure user and token from localstorage\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError('');\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess(false);\r\n    // make request to api to create category\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setError('');\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const newCategoryForm = () => (\r\n    <form onSubmit={clickSubmit}>\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Name</label>\r\n        <input\r\n          type='text'\r\n          className='form-control'\r\n          onChange={handleChange}\r\n          value={name}\r\n          autoFocus\r\n          required\r\n        />\r\n      </div>\r\n      <button className='btn btn-outline-primary'>Create Category</button>\r\n    </form>\r\n  );\r\n\r\n  const showSuccess = () => {\r\n    if (success) {\r\n      return <h3 className='text-success'>{name} is created</h3>;\r\n    }\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error) {\r\n      return <h3 className='text-danger'>Category should be unique</h3>;\r\n    }\r\n  };\r\n\r\n  const goBack = () => (\r\n    <div className='mt-5'>\r\n      <Link to='/admin/dashboard' className='text-warning'>\r\n        Back to Dashboard\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Add a new category'\r\n      description={`Hey ${user.name}, ready to add a new category?`}\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-8 offset-md-2'>\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { createProduct, getCategories } from './apiAdmin';\r\n\r\nconst AddProduct = () => {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    categories: [],\r\n    category: '',\r\n    shipping: '',\r\n    quantity: '',\r\n    photo: '',\r\n    // image:'',\r\n    loading: false,\r\n    error: '',\r\n    createdProduct: '',\r\n    redirectToProfile: false,\r\n    formData: '',\r\n  \r\n  });\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    categories,\r\n    category,\r\n    shipping,\r\n    quantity,\r\n    photo,\r\n    // image,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    redirectToProfile,\r\n    formData,\r\n    \r\n  } = values;\r\n\r\n  // load categories and set form data\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n  // const handleChange2 = (name) => (event) => {\r\n  //   const value = name === 'image' ? event.target.files[0] : event.target.value;\r\n  //   formData.set(name, value);\r\n  //   setValues({ ...values, [name]: value });\r\n  // };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: '', loading: true });\r\n\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: '',\r\n          description: '',\r\n          photo: '',\r\n          // image: '',\r\n          price: '',\r\n          quantity: '',\r\n          loading: false,\r\n          createdProduct: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Front Photo</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            \r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n          />\r\n        </label>\r\n      </div>\r\n      {/* <h4>Rear Photo</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange2(\"image\")}\r\n            type=\"file\"\r\n            \r\n            name=\"image\"\r\n            accept=\"image/*\"\r\n          />\r\n        </label>\r\n      </div> */}\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Description</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Price</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Shipping</label>\r\n        <select onChange={handleChange(\"shipping\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          <option value=\"0\">No</option>\r\n          <option value=\"1\">Yes</option>\r\n          <input onChange={handleChange(\"price\")} value={price} type=\"number\" />\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Quantity</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn btn-outline-primary\">Create Product</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: createdProduct ? '' : 'none' }}\r\n    >\r\n      <h2>{`${createdProduct}`} is created!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className='alert alert-success'>\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Layout\r\n      title='Add a new product'\r\n      description={`Hey ${user.name}, ready to add a new product?`}\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-8 offset-md-2'>\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState } from 'react';\r\nimport CheckboxM from '@material-ui/core/Checkbox';\r\n\r\nconst Checkbox = ({ categories, handleFilters }) => {\r\n  const [checked, setCheked] = useState([]);\r\n\r\n  const handleToggle = (c) => () => {\r\n    // return the first index or -1\r\n    const currentCategoryId = checked.indexOf(c);\r\n    const newCheckedCategoryId = [...checked];\r\n    // if currently checked was not already in checked state > push\r\n    // else pull/take off\r\n    if (currentCategoryId === -1) {\r\n      newCheckedCategoryId.push(c);\r\n    } else {\r\n      newCheckedCategoryId.splice(currentCategoryId, 1);\r\n    }\r\n    // console.log(newCheckedCategoryId);\r\n    setCheked(newCheckedCategoryId);\r\n    handleFilters(newCheckedCategoryId);\r\n  };\r\n\r\n  return categories.map((c, i) => (\r\n    <li key={i} className='list-unstyled'>\r\n      <CheckboxM\r\n        onChange={handleToggle(c._id)}\r\n        value={checked.indexOf(c._id === -1)}\r\n      />\r\n      <label className='form-check-label'>{c.name}</label>\r\n    </li>\r\n  ));\r\n};\r\n\r\nexport default Checkbox;\r\n","export const prices = [\r\n  {\r\n    _id: 0,\r\n    name: 'Any',\r\n    array: [],\r\n  },\r\n  {\r\n    _id: 1,\r\n    name: '$0 to $9',\r\n    array: [0, 9],\r\n  },\r\n  {\r\n    _id: 2,\r\n    name: '$10 to $19',\r\n    array: [10, 19],\r\n  },\r\n  {\r\n    _id: 3,\r\n    name: '$20 to $29',\r\n    array: [20, 29],\r\n  },\r\n  {\r\n    _id: 4,\r\n    name: '$30 to $39',\r\n    array: [30, 39],\r\n  },\r\n  {\r\n    _id: 5,\r\n    name: 'More than 40',\r\n    array: [40, 99],\r\n  },\r\n];\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from './Card';\r\nimport { getCategories, getFilteredProducts } from './apiCore';\r\nimport Checkbox from './Checkbox';\r\nimport RadioBox from './RadioBox';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Search from './Search';\r\nimport { prices } from './fixedPrices';\r\nimport Copyright from './Copyright';\r\n\r\nconst Shop = () => {\r\n  const [myFilters, setMyFilters] = useState({\r\n    filters: { category: [], price: [] },\r\n  });\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [limit, setLimit] = useState(6);\r\n  const [skip, setSkip] = useState(0);\r\n  const [size, setSize] = useState(0);\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadFilteredResults = (newFilters) => {\r\n    // console.log(newFilters);\r\n    getFilteredProducts(skip, limit, newFilters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResults(data.data);\r\n        setSize(data.size);\r\n        setSkip(0);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMore = () => {\r\n    let toSkip = skip + limit;\r\n    // console.log(newFilters);\r\n    getFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResults([...filteredResults, ...data.data]);\r\n        setSize(data.size);\r\n        setSkip(toSkip);\r\n      }\r\n    });\r\n  };\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    btn: {\r\n      background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n      borderRadius: 3,\r\n      border: 0,\r\n      color: 'white',\r\n      height: 48,\r\n      padding: '0 20px',\r\n      boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  const loadMoreButton = () => {\r\n    return (\r\n      size > 0 &&\r\n      size >= limit && (\r\n        // <button onClick={loadMore} className='btn btn-warning mb-5'>\r\n        //   Load more\r\n        // </button>\r\n        <Button onClick={loadMore} variant='contained' className={classes.btn}>\r\n          Load more\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n    loadFilteredResults(skip, limit, myFilters.filters);\r\n  }, []);\r\n\r\n  const handleFilters = (filters, filterBy) => {\r\n    // console.log(\"SHOP\", filters, filterBy);\r\n    const newFilters = { ...myFilters };\r\n    newFilters.filters[filterBy] = filters;\r\n\r\n    if (filterBy === 'price') {\r\n      let priceValues = handlePrice(filters);\r\n      newFilters.filters[filterBy] = priceValues;\r\n    }\r\n    loadFilteredResults(myFilters.filters);\r\n    setMyFilters(newFilters);\r\n  };\r\n\r\n  const handlePrice = (value) => {\r\n    const data = prices;\r\n    let array = [];\r\n\r\n    for (let key in data) {\r\n      if (data[key]._id === parseInt(value)) {\r\n        array = data[key].array;\r\n      }\r\n    }\r\n    return array;\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title='Shop '\r\n      description='Search and find collectibles'\r\n      className='container-fluid'\r\n    >\r\n      <Search />\r\n      <div className='row'>\r\n        <div className='col-md-3' >\r\n          <h4>Filter by categories</h4>\r\n          <ul>\r\n            <Checkbox\r\n              categories={categories}\r\n              handleFilters={(filters) => handleFilters(filters, 'category')}\r\n            />\r\n          </ul>\r\n\r\n          {/* <h4>Filter by price range</h4>\r\n          <div>\r\n            <RadioBox\r\n              prices={prices}\r\n              handleFilters={(filters) => handleFilters(filters, 'price')}\r\n            />\r\n          </div> */}\r\n        </div>\r\n\r\n        <div className='col-md-9'>\r\n          <h2 className='mb-2'>Products</h2>\r\n          <div className='row'>\r\n            {filteredResults.map((product, i) => (\r\n              <div key={i} className='col-xl-4 col-lg-6 col-md-12 col-sm-12'>\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <hr />\r\n          {loadMoreButton()}\r\n        </div>\r\n      </div>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { read, listRelated } from './apiCore';\r\nimport Card from './Card';\r\n\r\nconst Product = (props) => {\r\n  const [product, setProduct] = useState({});\r\n  const [relatedProduct, setRelatedProduct] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadSingleProduct = (productId) => {\r\n    read(productId).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProduct(data);\r\n        // fetch related products\r\n        listRelated(data._id).then((data) => {\r\n          if (data.error) {\r\n            setError(data.error);\r\n          } else {\r\n            setRelatedProduct(data);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const productId = props.match.params.productId;\r\n    loadSingleProduct(productId);\r\n  }, [props]);\r\n\r\n  return (\r\n    <Layout\r\n      title={product && product.name}\r\n      description={\r\n        product && product.description && product.description.substring(0, 100)\r\n      }\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-2'></div>\r\n        <div className='col-md-4 col-sm-12'>\r\n          <h4>Product Details</h4>\r\n          {product && product.description && (\r\n            <Card product={product} showViewProductButton={false} />\r\n          )}\r\n        </div>\r\n\r\n        <div className='col-md-4'>\r\n          <h4>Related products</h4>\r\n          {relatedProduct.map((p, i) => (\r\n            <div className='mb-3' key={i}>\r\n              <Card product={p} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className='col-md-2'></div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport {\r\n  getProducts,\r\n  getBraintreeClientToken,\r\n  processPayment,\r\n  createOrder,\r\n} from './apiCore';\r\nimport { emptyCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport DropIn from 'braintree-web-drop-in-react';\r\n\r\nconst Checkout = ({ products, setRun = (f) => f, run = undefined }) => {\r\n  const [data, setData] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: '',\r\n    instance: {},\r\n    address: '',\r\n  });\r\n\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getBraintreeClientToken(userId, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n        setData({ ...data, error: data.error });\r\n      } else {\r\n        console.log(data);\r\n        setData({ clientToken: data.clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const handleAddress = (event) => {\r\n    setData({ ...data, address: event.target.value });\r\n  };\r\n\r\n  const getTotal = () => {\r\n    return products.reduce((currentValue, nextValue) => {\r\n      return currentValue + nextValue.count * nextValue.price;\r\n    }, 0);\r\n  };\r\n\r\n  const showCheckout = () => {\r\n    return isAuthenticated() ? (\r\n      <div>{showDropIn()}</div>\r\n    ) : (\r\n      <Link to='/signin'>\r\n        <Button variant='contained' color='primary'>\r\n          Sign in to checkout\r\n        </Button>\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  let deliveryAddress = data.address;\r\n\r\n  const buy = () => {\r\n    setData({ loading: true });\r\n    // send the nonce to your server\r\n    // nonce = data.instance.requestPaymentMethod()\r\n    let nonce;\r\n    let getNonce = data.instance\r\n      .requestPaymentMethod()\r\n      .then((data) => {\r\n        // console.log(data);\r\n        nonce = data.nonce;\r\n        // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\r\n        // and also total to be charged\r\n        // console.log(\r\n        //     \"send nonce and total to process: \",\r\n        //     nonce,\r\n        //     getTotal(products)\r\n        // );\r\n        const paymentData = {\r\n          paymentMethodNonce: nonce,\r\n          amount: getTotal(products),\r\n        };\r\n\r\n        processPayment(userId, token, paymentData)\r\n          .then((response) => {\r\n            console.log(response);\r\n            // empty cart\r\n            // create order\r\n\r\n            const createOrderData = {\r\n              products: products,\r\n              transaction_id: response.transaction.id,\r\n              amount: response.transaction.amount,\r\n              address: deliveryAddress,\r\n            };\r\n\r\n            createOrder(userId, token, createOrderData)\r\n              .then((response) => {\r\n                emptyCart(() => {\r\n                  setRun(!run); // run useEffect in parent Cart\r\n                  console.log('payment success and empty cart');\r\n                  setData({\r\n                    loading: false,\r\n                    success: true,\r\n                  });\r\n                });\r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n                setData({ loading: false });\r\n              });\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            setData({ loading: false });\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        // console.log(\"dropin error: \", error);\r\n        setData({ ...data, error: error.message });\r\n      });\r\n  };\r\n\r\n  const showDropIn = () => (\r\n    <div onBlur={() => setData({ ...data, error: '' })}>\r\n      {data.clientToken !== null && products.length > 0 ? (\r\n        <div>\r\n          <div className='gorm-group mb-3'>\r\n            <label className='text-muted'>Delivery address:</label>\r\n            <textarea\r\n              onChange={handleAddress}\r\n              className='form-control'\r\n              value={data.address}\r\n              placeholder='Type your delivery address here...'\r\n            />\r\n          </div>\r\n\r\n          <DropIn\r\n            options={{\r\n              authorization: data.clientToken,\r\n              paypal: {\r\n                flow: 'vault',\r\n              },\r\n            }}\r\n            onInstance={(instance) => (data.instance = instance)}\r\n          />\r\n          <button onClick={buy} className='btn btn-success btn-block'>\r\n            Pay\r\n          </button>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n\r\n  const showError = (error) => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = (success) => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: success ? '' : 'none' }}\r\n    >\r\n      Thanks! Your payment was successful!\r\n    </div>\r\n  );\r\n\r\n  const showLoading = (loading) =>\r\n    loading && <h2 className='text-danger'>Loading...</h2>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Total: ${getTotal()}</h2>\r\n      {showLoading(data.loading)}\r\n      {showSuccess(data.success)}\r\n      {showError(data.error)}\r\n      {showCheckout()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport { getCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport Checkout from './Checkout';\r\n\r\nimport Copyright from './Copyright';\r\n\r\nconst Cart = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [run, setRun] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setItems(getCart());\r\n  }, [run]);\r\n\r\n  const showItems = (items) => {\r\n    return (\r\n      <div>\r\n        <h2>Your cart has {`${items.length}`} items</h2>\r\n        <hr />\r\n        {items.map((product, i) => (\r\n          <Card\r\n            key={i}\r\n            product={product}\r\n            showAddToCartButton={false}\r\n            cartUpdate={true}\r\n            showRemoveProductButton={true}\r\n            setRun={setRun}\r\n            run={run}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const noItemsMessage = () => (\r\n    <h2>\r\n      Your cart is empty. <br /> <Link to='/shop'>Continue shopping</Link>\r\n    </h2>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Shopping Cart'\r\n      description='Manage your cart items. Add remove checkout or continue shopping.'\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-2'></div>\r\n        <div className='col-md-4'>\r\n          {items.length > 0 ? showItems(items) : noItemsMessage()}\r\n        </div>\r\n        <div className='col-md-4'>\r\n          <h2 className='mb-4'>Your cart summary</h2>\r\n          <hr />\r\n          <Checkout products={items} setRun={setRun} run={run} />\r\n        </div>\r\n        <div className='col-md-2'></div>\r\n      </div>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { listOrders, getStatusValues, updateOrderStatus } from './apiAdmin';\r\nimport moment from 'moment';\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [statusValues, setStatusValues] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadOrders = () => {\r\n    listOrders(user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setOrders(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadStatusValues = () => {\r\n    getStatusValues(user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setStatusValues(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n    loadStatusValues();\r\n  }, []);\r\n\r\n  const showOrdersLength = () => {\r\n    if (orders.length > 0) {\r\n      return (\r\n        <h1 className='text-danger display-2'>Total orders: {orders.length}</h1>\r\n      );\r\n    } else {\r\n      return <h1 className='text-danger'>No orders</h1>;\r\n    }\r\n  };\r\n\r\n  const showInput = (key, value) => (\r\n    <div className='input-group mb-2 mr-sm-2'>\r\n      <div className='input-group-prepend'>\r\n        <div className='input-group-text'>{key}</div>\r\n      </div>\r\n      <input type='text' value={value} className='form-control' readOnly />\r\n    </div>\r\n  );\r\n\r\n  const handleStatusChange = (e, orderId) => {\r\n    updateOrderStatus(user._id, token, orderId, e.target.value).then((data) => {\r\n      if (data.error) {\r\n        console.log('Status update failed');\r\n      } else {\r\n        loadOrders();\r\n      }\r\n    });\r\n    // console.log('update order status');\r\n  };\r\n\r\n  const showStatus = (o) => (\r\n    <div className='form-group'>\r\n      <h3 className='mark mb-4'>Status: {o.status}</h3>\r\n      <select\r\n        className='form-control'\r\n        onChange={(e) => handleStatusChange(e, o._id)}\r\n      >\r\n        <option>Update Status</option>\r\n        {statusValues.map((status, index) => (\r\n          <option key={index} value={status}>\r\n            {status}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Orders'\r\n      description={`Hey ${user.name}, you can manage all the ordes here`}\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-8 offset-md-2'>\r\n          {showOrdersLength()}\r\n\r\n          {orders.map((o, oIndex) => {\r\n            return (\r\n              <div\r\n                className='mt-5'\r\n                key={oIndex}\r\n                style={{ borderBottom: '5px solid indigo' }}\r\n              >\r\n                <h2 className='mb-5'>\r\n                  <span className='bg-primary'>Order ID: {o._id}</span>\r\n                </h2>\r\n\r\n                <ul className='list-group mb-2'>\r\n                  <li className='list-group-item'>{showStatus(o)}</li>\r\n                  <li className='list-group-item'>\r\n                    Transaction ID: {o.transaction_id}\r\n                  </li>\r\n                  <li className='list-group-item'>Amount: ${o.amount}</li>\r\n                  <li className='list-group-item'>Ordered by: {o.user.name}</li>\r\n                  <li className='list-group-item'>\r\n                    Ordered on: {moment(o.createdAt).fromNow()}\r\n                  </li>\r\n                  <li className='list-group-item'>\r\n                    Delivery address: {o.address}\r\n                  </li>\r\n                </ul>\r\n\r\n                <h3 className='mt-4 mb-4 font-italic'>\r\n                  Total products in the order: {o.products.length}\r\n                </h3>\r\n\r\n                {o.products.map((p, pIndex) => (\r\n                  <div\r\n                    className='mb-4'\r\n                    key={pIndex}\r\n                    style={{ padding: '20px', border: '1px solid indigo' }}\r\n                  >\r\n                    {showInput('Product name', p.name)}\r\n                    {showInput('Product price', p.price)}\r\n                    {showInput('Product total', p.count)}\r\n                    {showInput('Product Id', p._id)}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { read, update, updateUser } from './apiUser';\r\n\r\nconst Profile = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: false,\r\n    success: false,\r\n  });\r\n\r\n  const { token } = isAuthenticated();\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const init = (userId) => {\r\n    // console.log(userId);\r\n    read(userId, token).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: true });\r\n      } else {\r\n        setValues({ ...values, name: data.name, email: data.email });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.userId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (e) => {\r\n    setValues({ ...values, error: false, [name]: e.target.value });\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    update(match.params.userId, token, { name, email, password }).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          // console.log(data.error);\r\n          alert(data.error);\r\n        } else {\r\n          updateUser(data, () => {\r\n            setValues({\r\n              ...values,\r\n              name: data.name,\r\n              email: data.email,\r\n              success: true,\r\n            });\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const redirectUser = (success) => {\r\n    if (success) {\r\n      return <Redirect to='/user/dashboard' />;\r\n    }\r\n  };\r\n\r\n  const profileUpdate = (name, email, password) => (\r\n    <form>\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Name</label>\r\n        <input\r\n          type='text'\r\n          onChange={handleChange('name')}\r\n          className='form-control'\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Email</label>\r\n        <input\r\n          type='email'\r\n          onChange={handleChange('email')}\r\n          className='form-control'\r\n          value={email}\r\n        />\r\n      </div>\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Password</label>\r\n        <input\r\n          type='password'\r\n          onChange={handleChange('password')}\r\n          className='form-control'\r\n          value={password}\r\n        />\r\n      </div>\r\n\r\n      <button onClick={clickSubmit} className='btn btn-primary'>\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Profile'\r\n      description='Update your profile'\r\n      className='container-fluid'\r\n    >\r\n      <h2 className='mb-4'>Profile update</h2>\r\n      {profileUpdate(name, email, password)}\r\n      {redirectUser(success)}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { getProducts, deleteProduct } from './apiAdmin';\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadProducts = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const destroy = (productId) => {\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        loadProducts();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title='Manage Products'\r\n      description='Perform CRUD on products'\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-12'>\r\n          <h2 className='text-center'>Total {products.length} products</h2>\r\n          <hr />\r\n          <ul className='list-group'>\r\n            {products.map((p, i) => (\r\n              <li\r\n                key={i}\r\n                className='list-group-item d-flex justify-content-between align-items-center'\r\n              >\r\n                <strong>{p.name}</strong>\r\n                <Link to={`/admin/product/update/${p._id}`}>\r\n                  <span className='badge badge-warning badge-pill'>Update</span>\r\n                </Link>\r\n                <Link>\r\n                  <span\r\n                    onClick={() => destroy(p._id)}\r\n                    className='badge badge-danger badge-pill'\r\n                  >\r\n                    Delete\r\n                  </span>\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { getProduct, getCategories, updateProduct } from './apiAdmin';\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    categories: [],\r\n    category: '',\r\n    shipping: '',\r\n    quantity: '',\r\n    photo: '',\r\n    // image: '',\r\n    loading: false,\r\n    error: false,\r\n    createdProduct: '',\r\n    redirectToProfile: false,\r\n    formData: '',\r\n  });\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    // categories,\r\n    category,\r\n    shipping,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    redirectToProfile,\r\n    formData,\r\n  } = values;\r\n\r\n  const init = (productId) => {\r\n    getProduct(productId).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        // populate the state\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          shipping: data.shipping,\r\n          quantity: data.quantity,\r\n          formData: new FormData(),\r\n        });\r\n        // load categories\r\n        initCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  // load categories and set form data\r\n  const initCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.productId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n  // const handleChange2 = (name) => (event) => {\r\n  //   const value = name === 'image' ? event.target.files[0] : event.target.value;\r\n  //   formData.set(name, value);\r\n  //   setValues({ ...values, [name]: value });\r\n  // };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: '', loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: '',\r\n            description: '',\r\n            photo: '',\r\n            // image: '',\r\n            price: '',\r\n            quantity: '',\r\n            loading: false,\r\n            error: false,\r\n            redirectToProfile: true,\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className='mb-3' onSubmit={clickSubmit}>\r\n      <h4>Post Photo</h4>\r\n      <div className='form-group'>\r\n        <label className='btn btn-secondary'>\r\n          <input\r\n            onChange={handleChange('photo')}\r\n            type='file'\r\n            name='photo'\r\n            \r\n            accept='image/*'\r\n          />\r\n        </label>\r\n      </div>\r\n      {/* <h4>Post Photo</h4>\r\n      <div className='form-group'>\r\n        <label className='btn btn-secondary'>\r\n          <input\r\n            onChange={handleChange2('image')}\r\n            type='file'\r\n            name='image'\r\n            \r\n            accept='image/*'\r\n          />\r\n        </label>\r\n      </div> */}\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Name</label>\r\n        <input\r\n          onChange={handleChange('name')}\r\n          type='text'\r\n          className='form-control'\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Description</label>\r\n        <textarea\r\n          onChange={handleChange('description')}\r\n          className='form-control'\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Price</label>\r\n        <input\r\n          onChange={handleChange('price')}\r\n          type='number'\r\n          className='form-control'\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Category</label>\r\n        <select onChange={handleChange('category')} className='form-control'>\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Shipping</label>\r\n        <select onChange={handleChange('shipping')} className='form-control'>\r\n          <option>Please select</option>\r\n          <option value='0'>No</option>\r\n          <option value='1'>Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Quantity</label>\r\n        <input\r\n          onChange={handleChange('quantity')}\r\n          type='number'\r\n          className='form-control'\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <button className='btn btn-outline-primary'>Update Product</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: createdProduct ? '' : 'none' }}\r\n    >\r\n      <h2>{`${createdProduct}`} is updated!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className='alert alert-success'>\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToProfile) {\r\n      if (!error) {\r\n        return <Redirect to='/' />;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title='Add a new product'\r\n      description={`G'day ${user.name}, ready to add a new product?`}\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-8 offset-md-2'>\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n          {redirectUser()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { Fragment } from 'react';\r\nimport Layout from './Layout';\r\nimport Copyright from './Copyright';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Layout\r\n      title='Error: 404'\r\n      description='Page Not Found'\r\n      className='container-fluid'\r\n    >\r\n      <Typography variant='h3' gutterBottom>\r\n        <WarningIcon style={{ fontSize: 50, color: '#FF7D00' }} /> Sorry, this page does not\r\n        exist!\r\n      </Typography>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Home from './core/Home';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport Dashboard from './user/UserDashboard';\r\nimport AdminRoute from './auth/AdminRoute';\r\nimport AdminDashboard from './user/AdminDashboard';\r\nimport AddCategory from './admin/AddCategory';\r\nimport AddProduct from './admin/AddProduct';\r\nimport Shop from './core/Shop';\r\nimport Product from './core/Product';\r\nimport Cart from './core/Cart';\r\nimport Orders from './admin/Orders';\r\nimport Profile from './user/Profile';\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\nimport NotFound from './core/NotFound';\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path='/' component={Home} exact />\r\n        <Route path='/shop' component={Shop} exact />\r\n        <Route path='/signin' component={Signin} exact />\r\n        <Route path='/signup' component={Signup} exact />\r\n        <PrivateRoute path='/user/dashboard' component={Dashboard} exact />\r\n        <AdminRoute path='/admin/dashboard' component={AdminDashboard} exact />\r\n        <AdminRoute path='/create/category' component={AddCategory} exact />\r\n        <AdminRoute path='/create/product' component={AddProduct} exact />\r\n        <Route path='/product/:productId' component={Product} exact />\r\n        <Route path='/cart' component={Cart} exact />\r\n        <AdminRoute path='/admin/orders' component={Orders} exact />\r\n        <PrivateRoute path='/profile/:userId' component={Profile} exact />\r\n        <AdminRoute path='/admin/products' component={ManageProducts} exact />\r\n        <AdminRoute\r\n          path='/admin/product/update/:productId'\r\n          component={UpdateProduct}\r\n          exact\r\n        />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\n\r\nReactDOM.render(<Routes />, document.getElementById('root'));\r\n"],"sourceRoot":""}